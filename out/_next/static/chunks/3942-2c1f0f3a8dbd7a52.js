"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3942],{95787:function(e,t,n){var r=n(85893),o=n(45161),a=n(38658),u=n(21371);t.Z=function(e){var t=(0,o.If)().colorMode,n=e.label;return(0,r.jsx)(a.u,{display:0===(null===n||void 0===n?void 0:n.length)?"none":"flex",placement:"top",label:n,bg:"dark"===t?"#1f2128":"#fff",borderRadius:"3px",color:"light"===t?"#07070c":"#8b8b93",fontSize:"12px",border:"light"===t?"solid 1px #e8edf2":"solid 1px #313442",children:(0,r.jsx)(u.w,{display:0===(null===n||void 0===n?void 0:n.length)?"none":"",h:"16px",minW:"16px"})})}},88586:function(e,t){t.Z={rebase:{epochLength:28800,beginEpochEnd:1668682800},LOCKTOS_maxWeeks:156,LOCKTOS_epochUnit:604800,modalMaxWeeks:155,rebasePerEpoch:8704505e-11,rebasePeriod:28800,mainnetGasPrice:"6849315",minBondGasPrice:"279458",errMsg:{balanceExceed:"Input has exceeded your balance",bondZeroInput:"Input has to be greater than 0",periodExceed:"Must be between 1 and 155",stakePeriodExceed:"Must be between 0 and 155",managePeriodExceed:"New lock-up period must be equal or greater than the existing lock-up period",zeroInput:"Input has to be equal to or greater than 0",periodExceedThanMaximum:"Must be less than 156 weeks"}}},32082:function(e,t,n){var r=n(34051),o=n.n(r),a=n(68462),u=n(67294);function i(e,t,n,r,o,a,u){try{var i=e[a](u),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){i(a,r,o,u,l,"next",e)}function l(e){i(a,r,o,u,l,"throw",e)}u(void 0)}))}}t.Z=function(){var e=(0,u.useState)(604800),t=e[0],n=e[1],r=(0,a.Z)().LockTOS_CONTRACT;return(0,u.useEffect)((function(){function e(){return(e=l(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return e.t0=parseInt,e.next=4,r.epochUnit();case 4:e.t1=e.sent,t=(0,e.t0)(e.t1),n(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){console.log("**useLockTOS err**"),console.log(e)}))}),[r]),{epochUnit:t}}},5835:function(e,t,n){var r=n(34051),o=n.n(r),a=n(79042),u=n(5555),i=n(68462),l=n(67294),c=n(89406);function s(e,t,n,r,o,a,u){try{var i=e[a](u),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){s(a,r,o,u,i,"next",e)}function i(e){s(a,r,o,u,i,"throw",e)}u(void 0)}))}}t.Z=function(){var e=(0,l.useState)(void 0),t=e[0],n=e[1],r=(0,i.Z)(),s=r.StakingV2Proxy_CONTRACT,d=r.LockTOS_CONTRACT,p=(0,c.Z)(),h=p.stakeId,v=p.connectId;return(0,l.useEffect)((function(){function e(){return(e=f(o().mark((function e(){var t,r,i,l,c,f,p,m,x,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s&&d&&h&&v)){e.next=22;break}return e.next=3,s.remainedLtos(h);case 3:return t=e.sent,e.next=6,d.balanceOfLock(v);case 6:return r=e.sent,e.next=9,s.stakeInfo(h);case 9:return i=e.sent,e.next=12,s.getLtosToTosPossibleIndex(t);case 12:return l=e.sent,e.next=15,s.rebasePerEpoch();case 15:c=e.sent,f=(0,a.WN)({amount:t.toString(),localeString:!0,round:!1})||"-",p=(0,a.WN)({amount:r.toString(),localeString:!0,round:!1})||"-",m=(0,u.df)(i.endTime,"YYYY. MM.DD. HH:mm"),x=(0,a.WN)({amount:l.toString(),localeString:!0,round:!1})||"-",k=Number(i.endTime.toString()),n({ltosBalance:f,stosBalance:p,ltosBN:t,stosBN:r,currentEndTime:m,currentEndTimeStamp:k,currentTosAmount:x,rebasePerEpcoh:c});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){console.log("**useModalContract err**"),console.log(e)}))}),[h,v,s,d]),t}},89406:function(e,t,n){var r=n(34051),o=n.n(r),a=n(68462),u=n(37243),i=n(67294);function l(e,t,n,r,o,a,u){try{var i=e[a](u),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){l(a,r,o,u,i,"next",e)}function i(e){l(a,r,o,u,i,"throw",e)}u(void 0)}))}}t.Z=function(){var e=(0,i.useState)(void 0),t=e[0],n=e[1],r=(0,i.useState)(void 0),l=r[0],s=r[1],f=(0,u.Z)().selectedModalData,d=(0,a.Z)().StakingV2Proxy_CONTRACT;return(0,i.useEffect)((function(){function e(){return(e=c(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d||!t){e.next=5;break}return e.next=3,d.connectId(t);case 3:n=e.sent,s((null===n||void 0===n?void 0:n.toString())||void 0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){console.log("**useStakeId err**"),console.log(e)})),n(null===f||void 0===f?void 0:f.stakeId)}),[f,d,t]),{stakeId:t,connectId:l}}},74506:function(e,t,n){var r=n(34051),o=n.n(r),a=n(45093),u=n(5555),i=n(54968),l=n(88586),c=n(90482),s=n(32082),f=n(5835),d=n(68462),p=n(30381),h=n.n(p),v=n(80008),m=n.n(v),x=n(67294),k=n(4480);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,o,a,u){try{var i=e[a](u),l=i.value}catch(c){return void n(c)}i.done?t(l):Promise.resolve(l).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){y(a,r,o,u,i,"next",e)}function i(e){y(a,r,o,u,i,"throw",e)}u(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],u=!0,i=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);u=!0);}catch(l){i=!0,o=l}finally{try{u||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(e,t){var n=(0,x.useState)("0"),r=n[0],p=n[1],v=(0,x.useState)("-"),b=v[0],y=v[1],S=(0,x.useState)("-"),M=S[0],w=S[1],V=(0,x.useState)("-"),T=V[0],Z=V[1],j=(0,x.useState)(156),A=j[0],I=(j[1],(0,x.useState)("-")),E=I[0],C=I[1],O=(0,x.useState)("-"),N=O[0],P=O[1],Y=(0,x.useState)("-"),D=Y[0],W=Y[1],L=(0,d.Z)().LockTOS_CONTRACT,H=((0,f.Z)(),(0,s.Z)().epochUnit),R=l.Z.rebasePeriod,U=_((0,k.FV)(i.lW),2),F=(U[0],U[1]);return(0,x.useEffect)((function(){function n(){return(n=g(o().mark((function n(){var r,i,l,s,f,d,h,v,m,x,k,b,g;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==(null===e||void 0===e?void 0:e.toString())&&0!==(null===e||void 0===e?void 0:e.toString().length)){n.next=2;break}return n.abrupt("return",p("-"));case 2:if(void 0!==e){n.next=4;break}return n.abrupt("return",p("-"));case 4:if("number"!==typeof e||!isNaN(e)){n.next=6;break}return n.abrupt("return",p("-"));case 6:if(!(L&&e&&t)){n.next=35;break}return r=t+1||1,8704505e-11,i=Math.floor(604800*Number(t)),l=Math.floor(i/R),s=Math.pow(1.00008704505,l),f=e*s,y((0,a.Z)(f)),n.t0=parseInt,n.next=17,L.epochUnit();case 17:return n.t1=n.sent,d=(0,n.t0)(n.t1),n.t2=parseInt,n.next=22,L.maxTime();case 22:if(n.t3=n.sent,h=(0,n.t2)(n.t3),v=f/h,m=(0,u.kv)(),x=Math.floor((m+r*d)/d)*d,k=v*(x-m),b=new c.Z(k),g=b.toFixed(3,c.Z.ROUND_HALF_UP),!(l>0)){n.next=34;break}return n.abrupt("return",p((0,a.Z)(g.toString())||"-"));case 34:return n.abrupt("return",p("0"));case 35:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(function(){return n.apply(this,arguments)})().catch((function(e){console.log("**fetchStosRewardData err**")})).finally((function(){F(!1)}))}),[L,e,t,R,F]),(0,x.useEffect)((function(){function e(){return(e=g(o().mark((function e(){var n,r,a,i,l,c,s,f,d,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L&&t&&(n=t+1,r=(0,u.kv)(),a=(0,u.kv)()+n*Number(H),Z((0,u.df)(a,"YYYY. MM.DD. HH:mm")),i=Math.floor((r+n*H)/H)*H,l=h().unix(i).format("YYYY.MM.DD"),c=h().tz("".concat(l," 00:00"),m().tz.guess()),s=c.format("YYYY.MM.DD. HH:mm"),w("".concat(s," (").concat((0,u.Ze)(),")")||0),f=(0,u.V4)({currentEndTimeStamp:i}),d=f.leftWeeks,p=f.leftDays,v=f.leftHourAndMin,C(d),P(p),W(v));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){console.log("**fetchStosRewardData3 err**")}))}),[L,t,H]),{stosReward:r,newEndTime:M,newEndTimeWithoutStos:T,maxWeeks:A,originalTosAmount:b,leftWeeks:E,leftDays:N,leftHourAndMin:D}}},60938:function(e,t,n){n.d(t,{Z:function(){return V}});var r=n(4480),o={bond_modal_period:155,bond_modal_balance:void 0},a=(0,r.cn)({key:"bond_bondModal_input",default:o}),u=(0,r.nZ)({key:"bond_bondModal_input_state",get:function(e){return(0,e.get)(a)}});function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],u=!0,i=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);u=!0);}catch(l){i=!0,o=l}finally{try{u||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=function(e){var t=(0,r.sJ)(u),n=l((0,r.FV)(a),2),o=n[0],i=n[1],c=(0,r.rb)(a);return"bond_modal"===e?{inputValue:t,value:o,setValue:i,resetValue:c}:{inputValue:void 0,value:void 0,setValue:void 0,resetValue:void 0}},s=n(88586).Z.modalMaxWeeks,f={stake_modal_period:s,stake_modal_balance:void 0},d=(0,r.cn)({key:"stake_stakeModal_input",default:f}),p=(0,r.nZ)({key:"stake_stakeModal_input_state",get:function(e){return(0,e.get)(d)}}),h={stake_unstakeModal_balance:void 0},v=(0,r.cn)({key:"stake_unstakeModal_input",default:h}),m=(0,r.nZ)({key:"stake_unstakeModal_input_state",get:function(e){return(0,e.get)(v)}}),x={stake_updateModal_period:s,stake_updateModal_ltos_balance:void 0,stake_updateModal_tos_balance:void 0},k=(0,r.cn)({key:"stake_updateModal_input",default:x}),b=(0,r.nZ)({key:"stake_updateModal_input_state",get:function(e){return(0,e.get)(k)}}),y={stake_relockModal_period:s,stake_relockModal_ltos_balance:void 0,stake_relockModal_tos_balance:void 0},g=(0,r.cn)({key:"stake_relockModal_input",default:y}),_=(0,r.nZ)({key:"stake_relockModal_input_state",get:function(e){return(0,e.get)(g)}});function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],u=!0,i=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);u=!0);}catch(l){i=!0,o=l}finally{try{u||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e){var t=(0,r.sJ)(p),n=M((0,r.FV)(d),2),o=n[0],a=n[1],u=(0,r.rb)(d),i=(0,r.sJ)(b),l=M((0,r.FV)(k),2),c=l[0],s=l[1],f=(0,r.rb)(k),h=(0,r.sJ)(m),x=M((0,r.FV)(v),2),y=x[0],S=x[1],w=(0,r.rb)(v),V=(0,r.sJ)(_),T=M((0,r.FV)(g),2),Z=T[0],j=T[1],A=(0,r.rb)(g);switch(e){case"stake_modal":return{inputValue:t,value:o,setValue:a,resetValue:u};case"update_modal":return{inputValue:i,value:c,setValue:s,resetValue:f};case"unstake_modal":return{inputValue:h,value:y,setValue:S,resetValue:w};case"relock_modal":return{inputValue:V,value:Z,setValue:j,resetValue:A};default:return{inputValue:void 0,value:void 0,setValue:void 0,resetValue:void 0}}};var V=function(e,t){var n=w(t),r=n.inputValue,o=n.value,a=n.setValue,u=n.resetValue,i=c(t),l=i.inputValue,s=i.value,f=i.setValue,d=i.resetValue;switch(e){case"Stake_screen":return{inputValue:r,value:o,setValue:a,setResetValue:u};case"Bond_screen":return{inputValue:l,value:s,setValue:f,setResetValue:d};default:return{inputValue:void 0,value:void 0,setValue:void 0}}}},98253:function(e,t,n){n.r(t);var r=n(85893),o=n(93717);t.default=function(){return(0,r.jsx)(o.k,{w:"100%",h:"100%",className:"gradient"})}},68506:function(e,t,n){n.r(t);var r=n(85893),o=n(45161),a=n(93717),u=n(71293),i=n(95787),l=n(37243),c=n(98253),s=n(27520);t.default=function(e){var t=e.title,n=e.content,f=e.tooltip,d=e.secondContent,p=e.thirdContent,h=e.secondTooltip,v=e.thirdTooltip,m=e.fourthTooltip,x=e.contentFontSize,k=(0,o.If)().colorMode,b=(0,l.Z)().isModalLoading,y=(0,s.Z)().bp700px;return(0,r.jsx)(a.k,{children:(0,r.jsxs)(a.k,{w:"100%",justifyContent:"space-between",fontSize:14,mt:"9px",children:[(0,r.jsxs)(a.k,{justifyContent:"flex-start",alignItems:"center",children:[(0,r.jsx)(u.x,{color:"dark"===k?"gray.100":"gray.1000",mr:"6px",children:t}),f?(0,r.jsx)(i.Z,{label:f}):(0,r.jsx)(r.Fragment,{})]}),b?(0,r.jsx)(a.k,{w:"150px",children:(0,r.jsx)(c.default,{})}):(0,r.jsx)(a.k,{justifyContent:"flex-end",children:(0,r.jsxs)(a.k,{flexDir:y?"column":"row",alignItems:y?"end":"center",fontSize:x,children:[(0,r.jsxs)(a.k,{children:[(0,r.jsx)(u.x,{color:"dark"===k?"white.200":"gray.800",fontWeight:600,mr:"6px",children:n}),h&&(0,r.jsx)(i.Z,{label:h})]}),(0,r.jsxs)(a.k,{children:[d&&(0,r.jsx)(u.x,{color:"#64646f",mx:"5px",children:"/"}),d&&(0,r.jsx)(u.x,{color:"dark"===k?"white.200":"gray.800",fontWeight:600,mr:"6px",children:d}),v&&(0,r.jsx)(i.Z,{label:v})]}),(0,r.jsxs)(a.k,{children:[p&&(0,r.jsx)(u.x,{color:"#64646f",mx:"5px",children:"/"}),p&&(0,r.jsx)(u.x,{color:"dark"===k?"white.200":"gray.800",fontWeight:600,mr:"6px",children:p}),m&&(0,r.jsx)(i.Z,{label:m})]})]})})]})})}},45093:function(e,t){t.Z=function(e,t){if(void 0===e||null===e)return"-";if(isNaN(e))return"-";if(0===e||"0"===e)return t?"0.".concat("0".repeat(t)):"0.00";var n=e.toString().split(".");return n[0].length>=4&&(n[0]=n[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,")),n[1]&&n[1].length>=2&&(n[1]=n[1].slice(0,t||2)),void 0===n[1]&&(n[1]="".concat("0".repeat(null!==t&&void 0!==t?t:2))),n.join(".").replaceAll(" ","")}},5555:function(e,t,n){n.d(t,{V4:function(){return h},Ze:function(){return p},ab:function(){return f},df:function(){return l},g9:function(){return d},kv:function(){return c},vI:function(){return s}});var r=n(88586),o=n(30381),a=n.n(o),u=n(80008),i=n.n(u);function l(e,t){return a().unix(e).format(t||"YYYY.MM.D")}function c(){return a()().unix()}function s(e){return e-c()<0}function f(e,t,n,r){return a().unix(e).add(t,"d").format(n||"MM.DD HH:mm:ss")}function d(e,t){var n=3600,r=86400,o=Math.floor(e/r),a=Math.floor((e-r*o)/n),u=Math.floor((e-r*o-n*a)/60);return{days:o,hours:a,mins:u,secs:e-r*o-n*a-60*u}}function p(){var e=i().tz(i().tz.guess()).format("Z").toString().split(":")[0].replaceAll("0","");return"UTC".concat(e)}function h(e){var t=e.currentEndTimeStamp,n=r.Z.LOCKTOS_epochUnit,o=t-c(),a=o/n,u=(o-604800*Math.floor(a))/86400,i=o-604800*Math.floor(a)-86400*Math.floor(u),l=d(i).hours,s=d(i).mins,f=1===l.toString().length?"0".concat(l):"".concat(l),p=1===s.toString().length?"0".concat(s):"".concat(s);return{leftWeeks:Math.floor(a).toString(),leftDays:String(Math.floor(u)),leftHourAndMin:"".concat(f,":").concat(p)}}}}]);