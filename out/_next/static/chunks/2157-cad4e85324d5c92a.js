"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2157],{79861:function(e,n,t){var r=t(85893),o=t(48940),i=t(45161),a=t(14225),c=t(57747),l=t(95787);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){var n=e.name,t=e.w,d=e.maxW,s=e.minW,f=e.h,p=e.isDisabled,b=e.style,y=e.onClick,v=e.tooltip,m=e.isLoading,x=(0,o.F)(),h=(0,i.If)().colorMode;return(0,r.jsxs)(a.z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}({w:t||150,maxW:d||t,minW:s||t,h:f||33,isDisabled:p,_hover:p?{}:{borderColor:"blue.100",color:"blue.100"},_focus:{backgroundColor:"transparent"},_disabled:{border:"dark"===h?"1px solid #535353":"1px solid #c6cbd9",color:"light"===h?"#c6cbd9":"#5a5a5a",cursor:"not-allowed"},_active:{backgroundColor:"transparent"},fontSize:12,isLoading:m},x.BUTTON_STYLE.basicButtonStyle(h),{color:"dark"===h?"#f1f1f1":"#07070c"},b,{onClick:y?function(){return y()}:null,zIndex:10,children:[(0,r.jsx)(c.xu,{mx:"6px",children:n}),"Manage"===n?(0,r.jsx)(l.Z,{label:v}):(0,r.jsx)(r.Fragment,{})]}))}},35418:function(e,n,t){t.d(n,{$:function(){return l},K:function(){return c}});var r=t(68806);function o(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function i(){var e=o(["\n  query GetDashboard($period: String!, $limit: Int!) {\n    getDashboard(period: $period, limit: $limit) {\n      _id\n      chainId\n      createdAt\n      marketCap\n      runway\n      tosPrice\n      tosSupply\n      sTosSupply\n      lTosSupply\n      totalValueStaked\n      treasuryBalance\n      updatedAt\n    }\n  }\n"]);return i=function(){return e},e}function a(){var e=o(["\n  query GetDashboardCard($period: String!, $limit: Int!) {\n    getDashboardCard(period: $period, limit: $limit) {\n      tosPrice\n      backingPerTos\n      ltosPrice\n      mintingRate\n      ltosIndex\n      chainId\n    }\n  }\n"]);return a=function(){return e},e}var c=(0,r.Ps)(i()),l=(0,r.Ps)(a())},66028:function(e,n,t){function r(){var e,n,t=(e=["\n  query GetTokenPrice($tokenId: String!) {\n    getTokenPrice(tokenId: $tokenId) {\n      price\n    }\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return r=function(){return t},t}t.d(n,{N:function(){return o}});var o=(0,t(68806).Ps)(r())},50266:function(e,n,t){var r=t(76312),o=t(35418),i=t(66028),a=t(67294);n.Z=function(){var e=(0,a.useState)(void 0),n=e[0],t=e[1],c=(0,r.aM)(o.K,{variables:{period:"-1",limit:1}}),l=(c.loading,c.error,c.data),u=(0,r.aM)(i.N,{variables:{tokenId:"ethereum"}}).data;return(0,a.useEffect)((function(){if(l&&u){var e,n=(null===(e=l.getDashboard[0])||void 0===e?void 0:e.tosPrice)||"0",r=u.getTokenPrice.price;t({tosPrice:Number(n),ethPrice:Number(r)})}}),[l,u]),{priceData:n}}},56621:function(e,n,t){var r=t(34051),o=t.n(r),i=t(77044),a=t(70592),c=t(73344);function l(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}n.Z=function(){var e=(0,i.Ge)(),n=e.activate,t=(e.active,e.account,function(){var e,t=(e=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.web3){e.next=2;break}return e.abrupt("return",window.open("https://metamask.io/download/"));case 2:Object.keys(a.Vp).map((function(e){return t!==a.Vp[e].connector||a.Vp[e].name}));try{t&&n(t,void 0,!0).catch((function(e){if(r=e,null!=(o=i.Uu)&&"undefined"!==typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](r):r instanceof o)try{n(t)}catch(a){}var r,o}))}catch(r){}case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}());return{tryActivation:function(){return t(c.Lj)}}}},72915:function(e,n,t){t.r(n);var r=t(85893),o=t(5555),i=t(45161),a=t(93717),c=t(71293),l=t(77044),u=t(10226),d=t(79861),s=t(50830),f=t(27520),p=t(37243),b=t(56621),y=t(67294),v=t(4480);function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){var n=e.title,t=e.content,o=e.style,l=(0,i.If)().colorMode;return(0,r.jsxs)(a.k,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}({justifyContent:"space-between",fontSize:14,h:"20px"},o,{children:[(0,r.jsx)(c.x,{color:"dark"===l?"gray.100":"gray.1000",children:n}),(0,r.jsx)(c.x,{color:"dark"===l?"white.200":"gray.800",children:t})]}))}n.default=function(e){var n=(0,i.If)().colorMode,t=e.data,m=(0,p.Z)("bond_bond_modal",t).openModal,h=null!==(h=(0,f.Z)())?h:function(e){throw e}(new TypeError("Cannot destructure undefined")),g=(0,l.Ge)().account,k=(0,b.Z)().tryActivation,j=((0,f.Z)().bp700px,(null===t||void 0===t?void 0:t.endTime)-(0,o.kv)()),w=(0,o.g9)(j),S=(0,v.sJ)(u.Zb),P=Number(null===t||void 0===t?void 0:t.bondCapacity.replaceAll("%",""))<=0,T=(Number(null===t||void 0===t?void 0:t.discountRate.replaceAll("%","")),(0,y.useState)(j>=0||!P)),O=T[0],C=(T[1],j<0),_=C?"0 days 0 hours 0 min":"".concat(w.days," days ").concat(w.hours," hours ").concat(w.mins," min"),I=C||P,Z=C||P;return(0,r.jsxs)(a.k,{flexDir:"column",w:["100%","310px","362px"],h:"290px",minW:["336px","310px","362px"],borderWidth:1,borderColor:"light"===n?"gray.900":"gray.300",borderRadius:10,pt:"18px",bg:"light"===n?"white.100":"#1f2128",px:"20px",pb:"21px",children:[(0,r.jsxs)(a.k,{mb:"18px",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(a.k,{children:[(0,r.jsx)(s.Z,{tokenType:null===t||void 0===t?void 0:t.tokenType}),(0,r.jsx)(c.x,{fontSize:20,fontWeight:600,textAlign:"center",lineHeight:"46px",color:"light"===n?"gray.800":"white.200",ml:"12px",children:null===t||void 0===t?void 0:t.tokenType})]}),(0,r.jsx)(a.k,{fontSize:12,color:Z?"red.100":"#5eea8d",textAlign:"center",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(c.x,{children:Z?"Closed":"Open"})})]}),(0,r.jsxs)(a.k,{flexDir:"column",rowGap:"9px",children:[(0,r.jsx)(x,{title:"Bond Price",content:"$ ".concat(null===t||void 0===t?void 0:t.bondingPrice)}),(0,r.jsx)(x,{title:"Discount",content:null===t||void 0===t?void 0:t.discountRate}),(0,r.jsx)(x,{title:"Capacity",content:"".concat(null===t||void 0===t?void 0:t.bondCapacity," TOS")}),(0,r.jsx)(x,{title:"Total Sold",content:null===t||void 0===t?void 0:t.totalSold}),(0,r.jsx)(x,{title:"Time Left",content:_}),(0,r.jsx)(d.Z,{name:g?O?"Bond":"Closed":"Connect Wallet",w:["100%","270px","150px"],h:"33px",style:{alignSelf:"center",marginTop:"9px",fontWeight:"normal"},isDisabled:I,isLoading:S,onClick:g?m:k})]})]})}},32157:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(85893),o=t(18618),i=t(93717),a=t(67294),c=t(72915),l=t(45093),u=t(50266),d=t(79102),s={getBondList:[{__typename:"Bond_List",index:4,capacity:0,quoteToken:"0x0000000000000000000000000000000000000000",totalSold:0,tokenLogo:"",bondPrice:1672,endTime:1677596400,createdAt:"2022-12-05T04:37:00.679Z"},{__typename:"Bond_List",index:3,capacity:0,quoteToken:"0x0000000000000000000000000000000000000000",totalSold:0,tokenLogo:"",bondPrice:1616.84145817,endTime:1677596400,createdAt:"2022-11-28T04:52:01.025Z"},{__typename:"Bond_List",index:2,capacity:0,quoteToken:"0x0000000000000000000000000000000000000000",totalSold:0,tokenLogo:"",bondPrice:2064,endTime:1677596400,createdAt:"2022-11-17T03:20:00.788Z"},{__typename:"Bond_List",index:1,capacity:0,quoteToken:"0x0000000000000000000000000000000000000000",totalSold:0,tokenLogo:"",bondPrice:2236.559,endTime:1677596400,createdAt:"2022-11-15T08:56:00.887Z"}]};function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(){var e=(0,a.useState)(void 0),n=e[0],t=e[1],f=p((0,o.a)("(max-width: 750px)"),1)[0],b=s,y=(0,u.Z)().priceData;return(0,a.useEffect)((function(){if(b&&y&&(null===y||void 0===y?void 0:y.tosPrice)&&(null===y||void 0===y?void 0:y.ethPrice)){var e=b.getBondList,n=y.ethPrice,r=y.tosPrice,o=e.map((function(e){var t=e.capacity,o=e.index,i=(e.tokenLogo,e.totalSold),a=e.endTime,c=1/e.bondPrice*1e18*n,u=Number((0,d.WN)({amount:c.toString()})),s=(r-u)/r*100;return{bondCapacity:(0,l.Z)(t),bondingPrice:(0,d.WN)({amount:c.toString(),localeString:!0,round:!1}),discountRate:"".concat((0,l.Z)(s),"%"),tokenType:"ETH",totalSold:"".concat((0,l.Z)(i)," TOS"),endTime:a,index:o}}));t(o)}}),[b,y]),(0,r.jsx)(i.k,{columnGap:"2%",rowGap:"20px",justifyContent:f?"center":"",flexWrap:"wrap",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,r.jsx)(c.default,{data:e},e.bondCapacity+n)}))})}}}]);