"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4790],{92590:function(t,n,r){r.d(n,{L:function(){return e}});var e=(0,r(4480).cn)({key:"graphFilter",default:"1 Week"})},19075:function(t,n,r){var e=r(85893),i=r(4480),o=r(92590),a=r(45161),l=r(93717),c=r(71293),u=r(51126),s=r(30381),d=r.n(s),f=r(95787),m=r(67294);n.Z=function(t){var n=t.data,r=t.title,s=t.amount,p=t.tooltipTitle,h=(0,a.If)().colorMode,g=(0,m.useState)(void 0),x=g[0],y=g[1],b=(0,m.useState)(!0),v=b[0],S=b[1],k=(0,i.sJ)(o.L),D={axis:{ticks:{text:{fontSize:11,fill:"dark"===h?"#64646f":"#9a9aaf"}}},crosshair:{line:{stroke:"dark"===h?"#ffffff":"#9a9aaf",strokeWidth:1,strokeOpacity:.4,strokeDasharray:"0"}}};return(0,e.jsxs)(l.k,{w:["100%","476px","556px"],h:"350px",bgColor:"dark"===h?"gray.600":"white.100",borderRadius:14,borderWidth:1,flexDir:"column",borderColor:"dark"===h?"gray.300":"gray.900",p:" 18px 20px 10px 20px",onMouseEnter:function(){return S(!1)},onMouseLeave:function(){return S(!0)},children:[(0,e.jsxs)(l.k,{flexDir:"row",children:[(0,e.jsxs)(c.x,{mr:"6px",fontSize:"12px",fontWeight:600,color:"dark"===h?"gray.100":"gray.1000",children:[r," "]}),(0,e.jsx)(f.Z,{label:p})]}),(0,e.jsx)(c.x,{color:"dark"===h?"white.100":"gray.800",fontWeight:600,fontSize:"20px",children:s}),(0,e.jsx)(u.fH,{data:n,theme:D,margin:{top:14,right:20,bottom:65,left:50},colors:["#405df9","#e23738","#50d1b2"],xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!0,reverse:!1},lineWidth:1,areaBaselineValue:0,yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:20,tickRotation:0,legendOffset:36,tickValues:4,legendPosition:"end",format:function(t){var n=t.split("_"),r=Number(n[1]);return void 0!==r&&("1 Week"===k?0===r||2===r||4===r||6===r:"1 Month"===k?0===r||9===r||19===r||29===r:"3 Months"===k?0===r||29===r||59===r||89===r:"6 Months"===k?0===r||60===r||120===r||181===r:0===r||121===r||242===r||364===r)?d()(n[0]).format("MMM DD"):""}},enableSlices:"x",enableCrosshair:!0,axisLeft:{tickSize:0,tickPadding:5,tickRotation:0,tickValues:4,legendOffset:-40,legendPosition:"middle",format:function(t){return"Runway"===r?0===t?"".concat(t," Days"):"".concat(Number(t).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})):"Total sTOS"===r||"Total LTOS"===r?Number(t)>999999?"".concat((Number(t)/1e6).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}),"M"):"".concat(Number(t).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})):Number(t)>999999?"$".concat((Number(t)/1e6).toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}),"M"):"$".concat(Number(t).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}))}},enablePoints:!0,pointSymbol:function(t){var n=t.borderWidth,r=t.borderColor;return x!==t.datum.dataIndex||v?null:(0,e.jsxs)("g",{children:[(0,e.jsx)("circle",{fill:"#ffffff",r:5,strokeWidth:n,stroke:r}),(0,e.jsx)("circle",{r:4,strokeWidth:n,stroke:r,fill:"#2775ff"})]})},useMesh:!0,pointLabelYOffset:-12,tooltip:function(){return(0,e.jsx)(l.k,{w:100,h:100,bg:"red"})},sliceTooltip:function(t){var n=t.slice,i=n.points[0].data.dataIndex;return y(i),(0,e.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%"},children:(0,e.jsxs)("div",{style:{background:"dark"===h?"#1f2128":"#ffffff",display:"flex",flexDirection:"column",justifyContent:"center",paddingLeft:"24px",fontSize:"11px",border:"dark"===h?"1px solid #313442":"1px solid #e8edf2",borderRadius:"14px",height:1!==n.points.length?"112px":"74px",width:"155px",position:"absolute"},children:[n.points.map((function(t,n){t.borderColor.toString();return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"12px"},children:[(0,e.jsx)("div",{style:{background:"#2775ff",marginRight:"9px",borderRadius:"50%",height:"10px",width:"10px"}}),(0,e.jsxs)("div",{style:{color:"dark"===h?"#d0d0da":"#07070c"},children:[" ","Runway"===r?"".concat(Number(t.data.y).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})," Days"):"Total sTOS"===r?"".concat(Number(t.data.y).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})," sTOS"):"Total LTOS"===r?"".concat(Number(t.data.y).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})," LTOS"):"$\n                      ".concat(Number(t.data.y).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}))]})]},"".concat(n,"_").concat(t.serieColor))})),(0,e.jsx)("div",{style:{color:"dark"===h?"#64646f":"#9a9aaf"},children:d()(n.points[0].data.x.split("_")[0]).format("MMM DD, YYYY")})]})})},enableArea:!0,enableGridX:!1,enableGridY:!1})]})}},95787:function(t,n,r){var e=r(85893),i=r(45161),o=r(38658),a=r(21371);n.Z=function(t){var n=(0,i.If)().colorMode,r=t.label;return(0,e.jsx)(o.u,{display:0===(null===r||void 0===r?void 0:r.length)?"none":"flex",placement:"top",label:r,bg:"dark"===n?"#1f2128":"#fff",borderRadius:"3px",color:"light"===n?"#07070c":"#8b8b93",fontSize:"12px",border:"light"===n?"solid 1px #e8edf2":"solid 1px #313442",children:(0,e.jsx)(a.w,{display:0===(null===r||void 0===r?void 0:r.length)?"none":"",h:"16px",minW:"16px"})})}},35418:function(t,n,r){r.d(n,{$:function(){return c},K:function(){return l}});var e=r(68806);function i(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))}function o(){var t=i(["\n  query GetDashboard($period: String!, $limit: Int!) {\n    getDashboard(period: $period, limit: $limit) {\n      _id\n      chainId\n      createdAt\n      marketCap\n      runway\n      tosPrice\n      tosSupply\n      sTosSupply\n      lTosSupply\n      totalValueStaked\n      treasuryBalance\n      updatedAt\n    }\n  }\n"]);return o=function(){return t},t}function a(){var t=i(["\n  query GetDashboardCard($period: String!, $limit: Int!) {\n    getDashboardCard(period: $period, limit: $limit) {\n      tosPrice\n      backingPerTos\n      ltosPrice\n      mintingRate\n      ltosIndex\n      chainId\n    }\n  }\n"]);return a=function(){return t},t}var l=(0,e.Ps)(o()),c=(0,e.Ps)(a())},54790:function(t,n,r){r.r(n),r.d(n,{default:function(){return w}});var e=r(85893),i=r(45093),o=r(93717),a=r(92590),l=r(19075),c=r(34051),u=r.n(c),s=r(76312),d=r(35418),f=r(30381),m=r.n(f),p=r(67294);function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function g(t,n,r,e,i,o,a){try{var l=t[o](a),c=l.value}catch(u){return void r(u)}l.done?n(c):Promise.resolve(c).then(e,i)}function x(t){return function(){var n=this,r=arguments;return new Promise((function(e,i){var o=t.apply(n,r);function a(t){g(o,e,i,a,l,"next",t)}function l(t){g(o,e,i,a,l,"throw",t)}a(void 0)}))}}function y(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"===typeof t)return h(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(t){return t.getDashboard.slice(0,31).filter((function(t,n){if(1!==n)return t}))};var v=function(){var t=(0,s.aM)(d.K,{variables:{period:"-1",limit:365}}),n=(t.loading,t.error,t.data),r=(0,p.useState)(void 0),e=r[0],i=r[1],o=(0,p.useState)(void 0),a=o[0],l=o[1];return(0,p.useEffect)((function(){function t(){return(t=x(u().mark((function t(){var r,e,o,a,l,c,s,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){if(r=b(n),e=-1,(o=r.map((function(t,n){return e+=1,{x:"".concat(m()(t.createdAt).format("YYYY-MM-DD HH:mm:ss"),"_").concat(e),y:null===t.sTosSupply?0:t.sTosSupply,dataIndex:e}}))).length<31)for(a=31-o.length,l=1;l<=a;l++)e+=1,c=m()(r[r.length-1].createdAt).unix()-86400*l,s=m().unix(c).format("YYYY-MM-DD HH:mm:ss"),o.push({x:"".concat(s,"_").concat(e),y:1===l?1923717.69:2===l?1925785.03:3===l?1905532.72:1907581.51,dataIndex:e});d=[{id:"#2775ff",color:"hsl(218, 100%, 58%)",data:y(o).reverse()}],i(d)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){console.log("**useCallGraph err**"),console.log(t)}))}),[n]),(0,p.useEffect)((function(){function t(){return(t=x(u().mark((function t(){var r,e,i,o,a,c,s,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){if(r=b(n),e=-1,(i=r.map((function(t,n){return e+=1,{x:"".concat(m()(t.createdAt).format("YYYY-MM-DD HH:mm:ss"),"_").concat(e),y:null===t.lTosSupply?0:t.lTosSupply,dataIndex:e}}))).length<31)for(o=31-i.length,a=1;a<=o;a++)e+=1,c=m()(r[r.length-1].createdAt).unix()-86400*a,s=m().unix(c).format("YYYY-MM-DD HH:mm:ss"),i.push({x:"".concat(s,"_").concat(e),y:0,dataIndex:e});d=[{id:"#2775ff",color:"hsl(218, 100%, 58%)",data:y(i).reverse()}],l(d)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){console.log("**useCallGraph err**"),console.log(t)}))}),[n]),{stosGraphData:e,ltosGraphData:a}},S=r(4480);function k(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function D(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,i,o=[],a=!0,l=!1;try{for(r=r.call(t);!(a=(e=r.next()).done)&&(o.push(e.value),!n||o.length!==n);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(l)throw i}}return o}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return k(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(){var t=v(),n=t.stosGraphData,r=t.ltosGraphData,c=D((0,S.FV)(a.L),2),u=(c[0],c[1]);return(0,p.useEffect)((function(){u("1 Month")}),[]),(0,e.jsxs)(o.k,{w:"100%",columnGap:"1.5%",rowGap:"24px",flexWrap:"wrap",justifyContent:"center",mt:"24px",children:[n&&(0,e.jsx)(l.Z,{data:n,title:"Total sTOS",amount:"".concat((0,i.Z)(n[0].data[n[0].data.length-1].y)," sTOS"),tooltipTitle:"Total number of sTOS owned by users."}),r&&(0,e.jsx)(l.Z,{data:r,title:"Total LTOS",amount:"".concat((0,i.Z)(r[0].data[r[0].data.length-1].y)," LTOS"),tooltipTitle:"Total number of LTOS owned by users."})]})}},45093:function(t,n){n.Z=function(t,n){if(void 0===t||null===t)return"-";if(isNaN(t))return"-";if(0===t||"0"===t)return n?"0.".concat("0".repeat(n)):"0.00";var r=t.toString().split(".");return r[0].length>=4&&(r[0]=r[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,")),r[1]&&r[1].length>=2&&(r[1]=r[1].slice(0,n||2)),void 0===r[1]&&(r[1]="".concat("0".repeat(null!==n&&void 0!==n?n:2))),r.join(".").replaceAll(" ","")}}}]);