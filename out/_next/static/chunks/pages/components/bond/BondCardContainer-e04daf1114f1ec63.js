(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3575],{9343:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/bond/BondCardContainer",function(){return t(35865)}])},79861:function(e,n,t){"use strict";var r=t(85893),o=t(48940),i=t(45161),a=t(14225),c=t(57747),u=t(95787);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){var n=e.name,t=e.w,d=e.maxW,s=e.minW,f=e.h,p=e.isDisabled,b=e.style,h=e.onClick,x=e.tooltip,g=e.isLoading,v=(0,o.F)(),m=(0,i.If)().colorMode;return(0,r.jsxs)(a.z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}({w:t||150,maxW:d||t,minW:s||t,h:f||33,isDisabled:p,_hover:p?{}:{borderColor:"blue.100",color:"blue.100"},_focus:{backgroundColor:"transparent"},_disabled:{border:"dark"===m?"1px solid #535353":"1px solid #c6cbd9",color:"light"===m?"#c6cbd9":"#5a5a5a",cursor:"not-allowed"},_active:{backgroundColor:"transparent"},fontSize:12,isLoading:g},v.BUTTON_STYLE.basicButtonStyle(m),{color:"dark"===m?"#f1f1f1":"#07070c"},b,{onClick:h?function(){return h()}:null,zIndex:10,children:[(0,r.jsx)(c.xu,{mx:"6px",children:n}),"Manage"===n?(0,r.jsx)(u.Z,{label:x}):(0,r.jsx)(r.Fragment,{})]}))}},95787:function(e,n,t){"use strict";var r=t(85893),o=t(45161),i=t(38658),a=t(21371);n.Z=function(e){var n=(0,o.If)().colorMode,t=e.label;return(0,r.jsx)(i.u,{display:0===(null===t||void 0===t?void 0:t.length)?"none":"flex",placement:"top",label:t,bg:"dark"===n?"#1f2128":"#fff",borderRadius:"3px",color:"light"===n?"#07070c":"#8b8b93",fontSize:"12px",border:"light"===n?"solid 1px #e8edf2":"solid 1px #313442",children:(0,r.jsx)(a.w,{display:0===(null===t||void 0===t?void 0:t.length)?"none":"",h:"16px",minW:"16px"})})}},88586:function(e,n){"use strict";n.Z={rebase:{epochLength:28800,beginEpochEnd:1668682800},LOCKTOS_maxWeeks:156,LOCKTOS_epochUnit:604800,modalMaxWeeks:155,rebasePerEpoch:8704505e-11,rebasePeriod:28800,mainnetGasPrice:"6849315",minBondGasPrice:"279458",errMsg:{balanceExceed:"Input has exceeded your balance",bondZeroInput:"Input has to be greater than 0",periodExceed:"Must be between 1 and 155",stakePeriodExceed:"Must be between 0 and 155",managePeriodExceed:"New lock-up period must be equal or greater than the existing lock-up period",zeroInput:"Input has to be equal to or greater than 0",periodExceedThanMaximum:"Must be less than 156 weeks"}}},35418:function(e,n,t){"use strict";t.d(n,{$:function(){return u},K:function(){return c}});var r=t(68806);function o(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function i(){var e=o(["\n  query GetDashboard($period: String!, $limit: Int!) {\n    getDashboard(period: $period, limit: $limit) {\n      _id\n      chainId\n      createdAt\n      marketCap\n      runway\n      tosPrice\n      tosSupply\n      sTosSupply\n      lTosSupply\n      totalValueStaked\n      treasuryBalance\n      updatedAt\n    }\n  }\n"]);return i=function(){return e},e}function a(){var e=o(["\n  query GetDashboardCard($period: String!, $limit: Int!) {\n    getDashboardCard(period: $period, limit: $limit) {\n      tosPrice\n      backingPerTos\n      ltosPrice\n      mintingRate\n      ltosIndex\n      chainId\n    }\n  }\n"]);return a=function(){return e},e}var c=(0,r.Ps)(i()),u=(0,r.Ps)(a())},66028:function(e,n,t){"use strict";function r(){var e,n,t=(e=["\n  query GetTokenPrice($tokenId: String!) {\n    getTokenPrice(tokenId: $tokenId) {\n      price\n    }\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return r=function(){return t},t}t.d(n,{N:function(){return o}});var o=(0,t(68806).Ps)(r())},32082:function(e,n,t){"use strict";var r=t(34051),o=t.n(r),i=t(68462),a=t(67294);function c(e,n,t,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))}}n.Z=function(){var e=(0,a.useState)(604800),n=e[0],t=e[1],r=(0,i.Z)().LockTOS_CONTRACT;return(0,a.useEffect)((function(){function e(){return(e=u(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return e.t0=parseInt,e.next=4,r.epochUnit();case 4:e.t1=e.sent,n=(0,e.t0)(e.t1),t(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){console.log("**useLockTOS err**"),console.log(e)}))}),[r]),{epochUnit:n}}},50266:function(e,n,t){"use strict";var r=t(76312),o=t(35418),i=t(66028),a=t(67294);n.Z=function(){var e=(0,a.useState)(void 0),n=e[0],t=e[1],c=(0,r.aM)(o.K,{variables:{period:"-1",limit:1}}),u=(c.loading,c.error,c.data),l=(0,r.aM)(i.N,{variables:{tokenId:"ethereum"}}).data;return(0,a.useEffect)((function(){if(u&&l){var e,n=(null===(e=u.getDashboard[0])||void 0===e?void 0:e.tosPrice)||"0",r=l.getTokenPrice.price;t({tosPrice:Number(n),ethPrice:Number(r)})}}),[u,l]),{priceData:n}}},72915:function(e,n,t){"use strict";t.r(n);var r=t(85893),o=t(5555),i=t(45161),a=t(93717),c=t(71293),u=t(77044),l=t(10226),d=t(79861),s=t(50830),f=t(27520),p=t(37243),b=t(56621),h=t(67294),x=t(4480);function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){var n=e.title,t=e.content,o=e.style,u=(0,i.If)().colorMode;return(0,r.jsxs)(a.k,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){g(e,n,t[n])}))}return e}({justifyContent:"space-between",fontSize:14,h:"20px"},o,{children:[(0,r.jsx)(c.x,{color:"dark"===u?"gray.100":"gray.1000",children:n}),(0,r.jsx)(c.x,{color:"dark"===u?"white.200":"gray.800",children:t})]}))}n.default=function(e){var n=(0,i.If)().colorMode,t=e.data,g=(0,p.Z)("bond_bond_modal",t).openModal,m=null!==(m=(0,f.Z)())?m:function(e){throw e}(new TypeError("Cannot destructure undefined")),y=(0,u.Ge)().account,k=(0,b.Z)().tryActivation,S=((0,f.Z)().bp700px,(null===t||void 0===t?void 0:t.endTime)-(0,o.kv)()),j=(0,o.g9)(S),w=(0,x.sJ)(l.Zb),T=Number(null===t||void 0===t?void 0:t.bondCapacity.replaceAll("%",""))<=0,P=(Number(null===t||void 0===t?void 0:t.discountRate.replaceAll("%","")),(0,h.useState)(S>=0||!T)),O=P[0],_=(P[1],S<0),C=_?"0 days 0 hours 0 min":"".concat(j.days," days ").concat(j.hours," hours ").concat(j.mins," min"),M=_||T,I=_||T;return(0,r.jsxs)(a.k,{flexDir:"column",w:["100%","310px","362px"],h:"290px",minW:["336px","310px","362px"],borderWidth:1,borderColor:"light"===n?"gray.900":"gray.300",borderRadius:10,pt:"18px",bg:"light"===n?"white.100":"#1f2128",px:"20px",pb:"21px",children:[(0,r.jsxs)(a.k,{mb:"18px",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(a.k,{children:[(0,r.jsx)(s.Z,{tokenType:null===t||void 0===t?void 0:t.tokenType}),(0,r.jsx)(c.x,{fontSize:20,fontWeight:600,textAlign:"center",lineHeight:"46px",color:"light"===n?"gray.800":"white.200",ml:"12px",children:null===t||void 0===t?void 0:t.tokenType})]}),(0,r.jsx)(a.k,{fontSize:12,color:I?"red.100":"#5eea8d",textAlign:"center",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(c.x,{children:I?"Closed":"Open"})})]}),(0,r.jsxs)(a.k,{flexDir:"column",rowGap:"9px",children:[(0,r.jsx)(v,{title:"Bond Price",content:"$ ".concat(null===t||void 0===t?void 0:t.bondingPrice)}),(0,r.jsx)(v,{title:"Discount",content:null===t||void 0===t?void 0:t.discountRate}),(0,r.jsx)(v,{title:"Capacity",content:"".concat(null===t||void 0===t?void 0:t.bondCapacity," TOS")}),(0,r.jsx)(v,{title:"Total Sold",content:null===t||void 0===t?void 0:t.totalSold}),(0,r.jsx)(v,{title:"Time Left",content:C}),(0,r.jsx)(d.Z,{name:y?O?"Bond":"Closed":"Connect Wallet",w:["100%","270px","150px"],h:"33px",style:{alignSelf:"center",marginTop:"9px",fontWeight:"normal"},isDisabled:M,isLoading:w,onClick:y?g:k})]})]})}},35865:function(e,n,t){"use strict";t.r(n);var r=t(85893),o=t(45161),i=t(93717),a=t(71293),c=t(67294),u=t(32157),l=t(77669);n.default=function(){var e=(0,c.useState)(0),n=e[0],t=(e[1],(0,o.If)().colorMode);return(0,r.jsxs)(i.k,{mt:"55px",w:"100%",justifyContent:"center",flexDir:"column",children:[(0,r.jsx)(a.x,{fontSize:22,fontWeight:"bold",color:"dark"===t?"white.200":"gray.800",mb:"34px",children:"Bond List"}),0===n?(0,r.jsx)(u.default,{}):(0,r.jsx)(l.default,{})]})}},32157:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(85893),o=t(18618),i=t(93717),a=t(67294),c=t(72915),u=t(45093),l=t(50266),d=t(79102),s={getBondList:[{__typename:"Bond_List",index:4,capacity:0,quoteToken:"0x0000000000000000000000000000000000000000",totalSold:0,tokenLogo:"",bondPrice:1672,endTime:1677596400,createdAt:"2022-12-05T04:37:00.679Z"},{__typename:"Bond_List",index:3,capacity:0,quoteToken:"0x0000000000000000000000000000000000000000",totalSold:0,tokenLogo:"",bondPrice:1616.84145817,endTime:1677596400,createdAt:"2022-11-28T04:52:01.025Z"},{__typename:"Bond_List",index:2,capacity:0,quoteToken:"0x0000000000000000000000000000000000000000",totalSold:0,tokenLogo:"",bondPrice:2064,endTime:1677596400,createdAt:"2022-11-17T03:20:00.788Z"},{__typename:"Bond_List",index:1,capacity:0,quoteToken:"0x0000000000000000000000000000000000000000",totalSold:0,tokenLogo:"",bondPrice:2236.559,endTime:1677596400,createdAt:"2022-11-15T08:56:00.887Z"}]};function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(){var e=(0,a.useState)(void 0),n=e[0],t=e[1],f=p((0,o.a)("(max-width: 750px)"),1)[0],b=s,h=(0,l.Z)().priceData;return(0,a.useEffect)((function(){if(b&&h&&(null===h||void 0===h?void 0:h.tosPrice)&&(null===h||void 0===h?void 0:h.ethPrice)){var e=b.getBondList,n=h.ethPrice,r=h.tosPrice,o=e.map((function(e){var t=e.capacity,o=e.index,i=(e.tokenLogo,e.totalSold),a=e.endTime,c=1/e.bondPrice*1e18*n,l=Number((0,d.WN)({amount:c.toString()})),s=(r-l)/r*100;return{bondCapacity:(0,u.Z)(t),bondingPrice:(0,d.WN)({amount:c.toString(),localeString:!0,round:!1}),discountRate:"".concat((0,u.Z)(s),"%"),tokenType:"ETH",totalSold:"".concat((0,u.Z)(i)," TOS"),endTime:a,index:o}}));console.log(o),t(o)}}),[b,h]),(0,r.jsx)(i.k,{columnGap:"2%",rowGap:"20px",justifyContent:f?"center":"",flexWrap:"wrap",children:null===n||void 0===n?void 0:n.map((function(e,t){return t===n.length-1?null:(0,r.jsx)(c.default,{data:e},e.bondCapacity+t)}))})}},45093:function(e,n){"use strict";n.Z=function(e,n){if(void 0===e||null===e)return"-";if(isNaN(e))return"-";if(0===e||"0"===e)return n?"0.".concat("0".repeat(n)):"0.00";var t=e.toString().split(".");return t[0].length>=4&&(t[0]=t[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,")),t[1]&&t[1].length>=2&&(t[1]=t[1].slice(0,n||2)),void 0===t[1]&&(t[1]="".concat("0".repeat(null!==n&&void 0!==n?n:2))),t.join(".").replaceAll(" ","")}},5555:function(e,n,t){"use strict";t.d(n,{V4:function(){return b},Ze:function(){return p},ab:function(){return s},df:function(){return u},g9:function(){return f},kv:function(){return l},vI:function(){return d}});var r=t(88586),o=t(30381),i=t.n(o),a=t(80008),c=t.n(a);function u(e,n){return i().unix(e).format(n||"YYYY.MM.D")}function l(){return i()().unix()}function d(e){return e-l()<0}function s(e,n,t,r){return i().unix(e).add(n,"d").format(t||"MM.DD HH:mm:ss")}function f(e,n){var t=3600,r=86400,o=Math.floor(e/r),i=Math.floor((e-r*o)/t),a=Math.floor((e-r*o-t*i)/60);return{days:o,hours:i,mins:a,secs:e-r*o-t*i-60*a}}function p(){var e=c().tz(c().tz.guess()).format("Z").toString().split(":")[0].replaceAll("0","");return"UTC".concat(e)}function b(e){var n=e.currentEndTimeStamp,t=r.Z.LOCKTOS_epochUnit,o=n-l(),i=o/t,a=(o-604800*Math.floor(i))/86400,c=o-604800*Math.floor(i)-86400*Math.floor(a),u=f(c).hours,d=f(c).mins,s=1===u.toString().length?"0".concat(u):"".concat(u),p=1===d.toString().length?"0".concat(d):"".concat(d);return{leftWeeks:Math.floor(i).toString(),leftDays:String(Math.floor(a)),leftHourAndMin:"".concat(s,":").concat(p)}}}},function(e){e.O(0,[4885,2678,8658,8555,4851,7669,9774,2888,179],(function(){return n=9343,e(e.s=n);var n}));var n=e.O();_N_E=n}]);