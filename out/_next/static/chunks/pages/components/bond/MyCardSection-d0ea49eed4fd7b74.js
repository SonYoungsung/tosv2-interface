(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5461],{80008:function(t,e,n){(t.exports=n(85177)).tz.load(n(91128))},85177:function(t,e,n){var r,o,i;!function(a,u){"use strict";t.exports?t.exports=u(n(30381)):(o=[n(30381)],void 0===(i="function"===typeof(r=u)?r.apply(e,o):r)||(t.exports=i))}(0,(function(t){"use strict";void 0===t.version&&t.default&&(t=t.default);var e,n={},r={},o={},i={},a={};t&&"string"===typeof t.version||j("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var u=t.version.split("."),c=+u[0],s=+u[1];function f(t){return t>96?t-87:t>64?t-29:t-48}function l(t){var e=0,n=t.split("."),r=n[0],o=n[1]||"",i=1,a=0,u=1;for(45===t.charCodeAt(0)&&(e=1,u=-1);e<r.length;e++)a=60*a+f(r.charCodeAt(e));for(e=0;e<o.length;e++)i/=60,a+=f(o.charCodeAt(e))*i;return a*u}function p(t){for(var e=0;e<t.length;e++)t[e]=l(t[e])}function d(t,e){var n,r=[];for(n=0;n<e.length;n++)r[n]=t[e[n]];return r}function h(t){var e=t.split("|"),n=e[2].split(" "),r=e[3].split(""),o=e[4].split(" ");return p(n),p(r),p(o),function(t,e){for(var n=0;n<e;n++)t[n]=Math.round((t[n-1]||0)+6e4*t[n]);t[e-1]=1/0}(o,r.length),{name:e[0],abbrs:d(e[1].split(" "),r),offsets:d(n,r),untils:o,population:0|e[5]}}function m(t){t&&this._set(h(t))}function v(t,e){this.name=t,this.zones=e}function b(t){var e=t.toTimeString(),n=e.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=e.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+t,this.abbr=n,this.offset=t.getTimezoneOffset()}function g(t){this.zone=t,this.offsetScore=0,this.abbrScore=0}function x(t,e){for(var n,r;r=6e4*((e.at-t.at)/12e4|0);)(n=new b(new Date(t.at+r))).offset===t.offset?t=n:e=n;return t}function y(t,e){return t.offsetScore!==e.offsetScore?t.offsetScore-e.offsetScore:t.abbrScore!==e.abbrScore?t.abbrScore-e.abbrScore:t.zone.population!==e.zone.population?e.zone.population-t.zone.population:e.zone.name.localeCompare(t.zone.name)}function k(t,e){var n,r;for(p(e),n=0;n<e.length;n++)r=e[n],a[r]=a[r]||{},a[r][t]=!0}function z(t){var e,n,r,o,u=t.length,c={},s=[],f={};for(e=0;e<u;e++)if(r=t[e].offset,!f.hasOwnProperty(r)){for(n in o=a[r]||{})o.hasOwnProperty(n)&&(c[n]=!0);f[r]=!0}for(e in c)c.hasOwnProperty(e)&&s.push(i[e]);return s}function w(){try{var t=Intl.DateTimeFormat().resolvedOptions().timeZone;if(t&&t.length>3){var e=i[O(t)];if(e)return e;j("Moment Timezone found "+t+" from the Intl api, but did not have that data loaded.")}}catch(f){}var n,r,o,a=function(){var t,e,n,r,o=(new Date).getFullYear()-2,i=new b(new Date(o,0,1)),a=i.offset,u=[i];for(r=1;r<48;r++)(n=new Date(o,r,1).getTimezoneOffset())!==a&&(t=x(i,e=new b(new Date(o,r,1))),u.push(t),u.push(new b(new Date(t.at+6e4))),i=e,a=n);for(r=0;r<4;r++)u.push(new b(new Date(o+r,0,1))),u.push(new b(new Date(o+r,6,1)));return u}(),u=a.length,c=z(a),s=[];for(r=0;r<c.length;r++){for(n=new g(S(c[r]),u),o=0;o<u;o++)n.scoreOffsetAt(a[o]);s.push(n)}return s.sort(y),s.length>0?s[0].zone.name:void 0}function O(t){return(t||"").toLowerCase().replace(/\//g,"_")}function _(t){var e,r,o,a;for("string"===typeof t&&(t=[t]),e=0;e<t.length;e++)a=O(r=(o=t[e].split("|"))[0]),n[a]=t[e],i[a]=r,k(a,o[2].split(" "))}function S(t,e){t=O(t);var o,a=n[t];return a instanceof m?a:"string"===typeof a?(a=new m(a),n[t]=a,a):r[t]&&e!==S&&(o=S(r[t],S))?((a=n[t]=new m)._set(o),a.name=i[t],a):null}function M(t){var e,n,o,a;for("string"===typeof t&&(t=[t]),e=0;e<t.length;e++)o=O((n=t[e].split("|"))[0]),a=O(n[1]),r[o]=a,i[o]=n[0],r[a]=o,i[a]=n[1]}function T(t){var e="X"===t._f||"x"===t._f;return!(!t._a||void 0!==t._tzm||e)}function j(t){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(t)}function P(e){var n,r=Array.prototype.slice.call(arguments,0,-1),o=arguments[arguments.length-1],i=t.utc.apply(null,r);return!t.isMoment(e)&&T(i)&&(n=S(o))&&i.add(n.parse(i),"minutes"),i.tz(o),i}(c<2||2===c&&s<6)&&j("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+t.version+". See momentjs.com"),m.prototype={_set:function(t){this.name=t.name,this.abbrs=t.abbrs,this.untils=t.untils,this.offsets=t.offsets,this.population=t.population},_index:function(t){var e;if((e=function(t,e){var n,r=e.length;if(t<e[0])return 0;if(r>1&&e[r-1]===1/0&&t>=e[r-2])return r-1;if(t>=e[r-1])return-1;for(var o=0,i=r-1;i-o>1;)e[n=Math.floor((o+i)/2)]<=t?o=n:i=n;return i}(+t,this.untils))>=0)return e},countries:function(){var t=this.name;return Object.keys(o).filter((function(e){return-1!==o[e].zones.indexOf(t)}))},parse:function(t){var e,n,r,o,i=+t,a=this.offsets,u=this.untils,c=u.length-1;for(o=0;o<c;o++)if(e=a[o],n=a[o+1],r=a[o?o-1:o],e<n&&P.moveAmbiguousForward?e=n:e>r&&P.moveInvalidForward&&(e=r),i<u[o]-6e4*e)return a[o];return a[c]},abbr:function(t){return this.abbrs[this._index(t)]},offset:function(t){return j("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(t)]},utcOffset:function(t){return this.offsets[this._index(t)]}},g.prototype.scoreOffsetAt=function(t){this.offsetScore+=Math.abs(this.zone.utcOffset(t.at)-t.offset),this.zone.abbr(t.at).replace(/[^A-Z]/g,"")!==t.abbr&&this.abbrScore++},P.version="0.5.45",P.dataVersion="",P._zones=n,P._links=r,P._names=i,P._countries=o,P.add=_,P.link=M,P.load=function(t){_(t.zones),M(t.links),function(t){var e,n,r,i;if(t&&t.length)for(e=0;e<t.length;e++)n=(i=t[e].split("|"))[0].toUpperCase(),r=i[1].split(" "),o[n]=new v(n,r)}(t.countries),P.dataVersion=t.version},P.zone=S,P.zoneExists=function t(e){return t.didShowError||(t.didShowError=!0,j("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!S(e)},P.guess=function(t){return e&&!t||(e=w()),e},P.names=function(){var t,e=[];for(t in i)i.hasOwnProperty(t)&&(n[t]||n[r[t]])&&i[t]&&e.push(i[t]);return e.sort()},P.Zone=m,P.unpack=h,P.unpackBase60=l,P.needsOffset=T,P.moveInvalidForward=!0,P.moveAmbiguousForward=!1,P.countries=function(){return Object.keys(o)},P.zonesForCountry=function(t,e){var n;if(n=(n=t).toUpperCase(),!(t=o[n]||null))return null;var r=t.zones.sort();return e?r.map((function(t){return{name:t,offset:S(t).utcOffset(new Date)}})):r};var D,C=t.fn;function I(t){return function(){return this._z?this._z.abbr(this):t.call(this)}}function E(t){return function(){return this._z=null,t.apply(this,arguments)}}t.tz=P,t.defaultZone=null,t.updateOffset=function(e,n){var r,o=t.defaultZone;if(void 0===e._z&&(o&&T(e)&&!e._isUTC&&e.isValid()&&(e._d=t.utc(e._a)._d,e.utc().add(o.parse(e),"minutes")),e._z=o),e._z)if(r=e._z.utcOffset(e),Math.abs(r)<16&&(r/=60),void 0!==e.utcOffset){var i=e._z;e.utcOffset(-r,n),e._z=i}else e.zone(r,n)},C.tz=function(e,n){if(e){if("string"!==typeof e)throw new Error("Time zone name must be a string, got "+e+" ["+typeof e+"]");return this._z=S(e),this._z?t.updateOffset(this,n):j("Moment Timezone has no data for "+e+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},C.zoneName=I(C.zoneName),C.zoneAbbr=I(C.zoneAbbr),C.utc=E(C.utc),C.local=E(C.local),C.utcOffset=(D=C.utcOffset,function(){return arguments.length>0&&(this._z=null),D.apply(this,arguments)}),t.tz.setDefault=function(e){return(c<2||2===c&&s<9)&&j("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+t.version+"."),t.defaultZone=e?S(e):null,t};var N=t.momentProperties;return"[object Array]"===Object.prototype.toString.call(N)?(N.push("_z"),N.push("_a")):N&&(N._z=null),t}))},97610:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/bond/MyCardSection",function(){return n(1259)}])},29365:function(t,e,n){"use strict";n.d(e,{x:function(){return o}});var r=n(4480),o=(0,r.cn)({key:"bond_filter_sort",default:"Earliest"});(0,r.nZ)({key:"bond_filter_sort_state",get:function(t){return(0,t.get)(o)}})},88586:function(t,e){"use strict";e.Z={rebase:{epochLength:28800,beginEpochEnd:1668682800},LOCKTOS_maxWeeks:156,LOCKTOS_epochUnit:604800,modalMaxWeeks:155,rebasePerEpoch:8704505e-11,rebasePeriod:28800,mainnetGasPrice:"6849315",minBondGasPrice:"279458",errMsg:{balanceExceed:"Input has exceeded your balance",bondZeroInput:"Input has to be greater than 0",periodExceed:"Must be between 1 and 155",stakePeriodExceed:"Must be between 0 and 155",managePeriodExceed:"New lock-up period must be equal or greater than the existing lock-up period",zeroInput:"Input has to be equal to or greater than 0",periodExceedThanMaximum:"Must be less than 156 weeks"}}},66028:function(t,e,n){"use strict";function r(){var t,e,n=(t=["\n  query GetTokenPrice($tokenId: String!) {\n    getTokenPrice(tokenId: $tokenId) {\n      price\n    }\n  }\n"],e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}})));return r=function(){return n},n}n.d(e,{N:function(){return o}});var o=(0,n(68806).Ps)(r())},32082:function(t,e,n){"use strict";var r=n(34051),o=n.n(r),i=n(68462),a=n(67294);function u(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,c,"next",t)}function c(t){u(i,r,o,a,c,"throw",t)}a(void 0)}))}}e.Z=function(){var t=(0,a.useState)(604800),e=t[0],n=t[1],r=(0,i.Z)().LockTOS_CONTRACT;return(0,a.useEffect)((function(){function t(){return(t=c(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return t.t0=parseInt,t.next=4,r.epochUnit();case 4:t.t1=t.sent,e=(0,t.t0)(t.t1),n(e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(t){console.log("**useLockTOS err**"),console.log(t)}))}),[r]),{epochUnit:e}}},27353:function(t,e,n){"use strict";n.r(e);var r=n(85893),o=n(45161),i=n(93717),a=n(71293),u=n(50830);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e=t.title,n=t.content,u=t.style,s=(0,o.If)().colorMode;return(0,r.jsxs)(i.k,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){c(t,e,n[e])}))}return t}({justifyContent:"space-between",fontSize:14,h:"20px"},u,{children:[(0,r.jsx)(a.x,{color:"dark"===s?"gray.100":"gray.1000",children:e}),(0,r.jsx)(a.x,{color:"dark"===s?"white.200":"gray.800",children:n})]}))}e.default=function(t){var e=t.info,n=t.tokenType,c=t.isOver,f=t.lockUpDate,l=(0,o.If)().colorMode;return(0,r.jsxs)(i.k,{flexDir:"column",w:"362px",h:"200px",borderWidth:1,borderColor:"dark"===l?"gray3600":"gray.900",borderRadius:10,bg:"dark"===l?"gray.600":"white.100",pt:"18px",px:"20px",pb:"21px",children:[(0,r.jsxs)(i.k,{mb:"18px",justifyContent:"space-between",children:[(0,r.jsxs)(i.k,{children:[(0,r.jsx)(u.Z,{tokenType:n}),(0,r.jsx)(a.x,{fontSize:20,fontWeight:600,textAlign:"center",lineHeight:"46px",color:"light"===l?"gray.800":"white.200",ml:"12px",children:n})]}),(0,r.jsx)(i.k,{fontSize:12,color:c?"blue.200":"red.100",textAlign:"center",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(a.x,{children:c?"Unlocked":"Locked"})})]}),null===e||void 0===e?void 0:e.map((function(t,n){return(0,r.jsx)(s,{title:t.title,content:t.content,style:{marginBottom:n!==e.length-1?"9px":"3px"}},t.title+n)})),(0,r.jsx)(i.k,{justifyContent:"flex-end",fontSize:9,mb:"21px",color:"#eaeaf4",children:(0,r.jsx)(a.x,{color:"dark"===l?"#eaeaf4":"#16161e",children:f})})]})}},1259:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return S}});var r=n(85893),o=n(5674),i=n(34051),a=n.n(i),u=n(79102),c=n(5555),s=n(76312),f=n(77044),l=n(29365),p=n(68806);function d(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function h(){var t=d(["\n  query GetBondList($period: String, $limit: Int) {\n    getBondList(period: $period, limit: $limit) {\n      index\n      capacity\n      quoteToken\n      totalSold\n      tokenLogo\n      bondPrice\n      endTime\n      createdAt\n    }\n  }\n"]);return h=function(){return t},t}function m(){var t=d(["\n  query GetBondHistory($period: String, $limit: Int, $account: String) {\n    getMyHistory(period: $period, limit: $limit, account: $account) {\n      contract\n      contractName\n      eventName\n      from\n      data\n      chainId\n      blockNumber\n      transactionHash\n      blockTimestamp\n      createdTime\n      updated\n    }\n  }\n"]);return m=function(){return t},t}(0,p.Ps)(h());var v=(0,p.Ps)(m()),b=n(66028),g=n(32082),x=n(68462),y=n(67294),k=n(4480);function z(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){z(i,r,o,a,u,"next",t)}function u(t){z(i,r,o,a,u,"throw",t)}a(void 0)}))}}var O=function(){var t=(0,y.useState)(void 0),e=t[0],n=t[1],r=(0,f.Ge)().account,o=(0,x.Z)(),i=o.StakingV2Proxy_CONTRACT,p=o.LockTOS_CONTRACT,d=(0,g.Z)().epochUnit,h=(0,s.aM)(v,{variables:{account:r,period:"-1"},pollInterval:1e4}),m=h.data,z=(h.loading,h.error,(0,s.aM)(b.N,{variables:{tokenId:"ethereum"}}).data),O=(0,k.sJ)(l.x);return(0,y.useEffect)((function(){var t=function(){var t=w(a().mark((function t(){var e,o,s,f,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m&&r&&z)){t.next=8;break}return e=z.getTokenPrice,o=e.price,s=m.getMyHistory,f=s.map(function(){var t=w(a().mark((function t(e){var n,r,s,f,l,h,m,v,b,g,x,y,k,z,w,O,_,S;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.data&&e.blockTimestamp&&e.eventName&&i&&p)){t.next=19;break}return n=e.data,r=e.blockTimestamp,s=e.eventName,f=n.ltos,n.marketId,l=n.tosPrice,h=(0,u.WN)({amount:f.toString()}),m=null===n||void 0===n?void 0:n.stakeId,v=1/l*1e18*o,t.next=8,i.connectId(m);case 8:return b=t.sent,t.next=11,p.balanceOfLockAt(b,r);case 11:return g=t.sent,x="-",y=!1,k="5 Days",(z="StakedGetStosByBond"===s)?(w=(0,c.kv)(),O=w+(null===n||void 0===n?void 0:n.periodWeeks)*Number(d),x="".concat((0,c.df)(r,"YYYY. MM.DD. HH:mm"),"  ~ ").concat((0,c.df)(O,"MM.DD. HH:mm")),_=O-r,k="".concat(Math.floor(_/86400)," Days"),y=(0,c.vI)(Number(O))):(x="".concat((0,c.df)(r,"YYYY. MM.DD. HH:mm")," ~ ").concat((0,c.ab)(r,5,"MM.DD HH:mm")),y=(0,c.vI)(Number(r)+432e3)),S={info:[{title:"Staked",content:z?"".concat(h," LTOS / ").concat((0,u.WN)({amount:g.toString()}),"sTOS"):"".concat(h," LTOS")},{title:"Bond Price",content:"$ ".concat(v.toLocaleString(void 0,{maximumFractionDigits:2}))},{title:"Lock-Up Period",content:k}],tokenType:"ETH",lockUpDate:x,isOver:y},t.abrupt("return",S);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=6,Promise.all(f);case 6:l=t.sent,n(l);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().catch((function(t){console.log("**fetchListdata err**"),console.log(t)}))}),[r,m,z,d,i,p,O]),{cardList:e}},_=n(27353);var S=function(){var t=O().cardList;return console.log(t),(0,r.jsx)(o.M,{columns:3,gridRowGap:"24px",columnGap:"25px",children:null===t||void 0===t?void 0:t.map((function(t,e){return(0,r.jsx)(_.default,{info:t.info,tokenType:t.tokenType,isOver:t.isOver,lockUpDate:t.lockUpDate},t.tokenType+e)}))})}},5555:function(t,e,n){"use strict";n.d(e,{V4:function(){return h},Ze:function(){return d},ab:function(){return l},df:function(){return c},g9:function(){return p},kv:function(){return s},vI:function(){return f}});var r=n(88586),o=n(30381),i=n.n(o),a=n(80008),u=n.n(a);function c(t,e){return i().unix(t).format(e||"YYYY.MM.D")}function s(){return i()().unix()}function f(t){return t-s()<0}function l(t,e,n,r){return i().unix(t).add(e,"d").format(n||"MM.DD HH:mm:ss")}function p(t,e){var n=3600,r=86400,o=Math.floor(t/r),i=Math.floor((t-r*o)/n),a=Math.floor((t-r*o-n*i)/60);return{days:o,hours:i,mins:a,secs:t-r*o-n*i-60*a}}function d(){var t=u().tz(u().tz.guess()).format("Z").toString().split(":")[0].replaceAll("0","");return"UTC".concat(t)}function h(t){var e=t.currentEndTimeStamp,n=r.Z.LOCKTOS_epochUnit,o=e-s(),i=o/n,a=(o-604800*Math.floor(i))/86400,u=o-604800*Math.floor(i)-86400*Math.floor(a),c=p(u).hours,f=p(u).mins,l=1===c.toString().length?"0".concat(c):"".concat(c),d=1===f.toString().length?"0".concat(f):"".concat(f);return{leftWeeks:Math.floor(i).toString(),leftDays:String(Math.floor(a)),leftHourAndMin:"".concat(l,":").concat(d)}}},5674:function(t,e,n){"use strict";n.d(e,{M:function(){return s}});var r=n(79078),o=n(16554),i=n(48940),a=n(7634),u=n(33951),c=n(85893),s=(0,o.G)((function(t,e){const{columns:n,spacingX:o,spacingY:s,spacing:f,minChildWidth:l,...p}=t,d=(0,i.F)(),h=l?function(t,e){return(0,u.XQ)(t,(t=>{const n=(0,a.LP)("sizes",t,"number"===typeof(r=t)?`${r}px`:r)(e);var r;return null===t?null:`repeat(auto-fit, minmax(${n}, 1fr))`}))}(l,d):(m=n,(0,u.XQ)(m,(t=>null===t?null:`repeat(${t}, minmax(0, 1fr))`)));var m;return(0,c.jsx)(r.r,{ref:e,gap:f,columnGap:o,rowGap:s,templateColumns:h,...p})}));s.displayName="SimpleGrid"}},function(t){t.O(0,[4885,2678,8555,9774,2888,179],(function(){return e=97610,t(t.s=e);var e}));var e=t.O();_N_E=e}]);