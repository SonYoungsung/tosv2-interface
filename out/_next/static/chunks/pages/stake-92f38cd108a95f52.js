(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8797],{54997:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake",function(){return n(93132)}])},24369:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(45161),i=n(93717),l=n(71293),s=n(67294),u=n(25675),c=n.n(u),a=n(79822);t.default=function(e){var t=e.msg,n=((0,o.If)().colorMode,(0,s.useState)(!0)),u=n[0],x=n[1];return(0,r.jsxs)(i.k,{display:u?"Flex":"none",w:"100%",border:"1px solid #257eee",mb:"24px",borderRadius:"14px",px:"30px",justifyContent:"space-between",py:"20px",children:[(0,r.jsx)(i.k,{flexDir:"column",children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,r.jsx)(l.x,{color:"blue.100",fontSize:"14px",children:e},e.length+t)}))}),(0,r.jsx)(i.k,{mt:"-5px",minH:"30px",maxH:"30px",minW:"30px",maxW:"30px",_hover:{cursor:"pointer"},onClick:function(){return x(!1)},children:(0,r.jsx)(c(),{src:a.default,alt:"close"})})]})}},14494:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(93717),i=n(43792);t.default=function(){return(0,r.jsx)(o.k,{children:(0,r.jsx)(i.default,{})})}},43792:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(45161),i=n(93717),l=n(71293),s=n(27224),u=n(20271),c=n(1885),a=n(43379),x=n(16658),f=n(25675),d=n.n(f),p=n(67294),m=n(5555),h=n(45379),j=n(83077),b=n(27520),v=function(){var e=(0,o.If)().colorMode,t=(0,p.useState)("-"),n=t[0],s=t[1],u=(0,j.O)().blockNumber;return(0,p.useEffect)((function(){var e=(0,m.df)((0,m.kv)(),"YYYY.MM.DD HH:mm");s(e)}),[u]),(0,r.jsxs)(i.k,{children:[(0,r.jsx)(d(),{src:"dark"===e?a.default:x.default,alt:"CALENDAR_ICON"}),(0,r.jsxs)(l.x,{color:"light"===e?"#7e7e8f":"#8b8b93",ml:"7px",children:["Updated on ",n," (",(0,m.Ze)(),")"]})]})},k=function(){(0,s.Z)().pathName;var e=(0,h.Z)(":"),t=(0,b.Z)().bp500px;return(0,r.jsxs)(i.k,{fontSize:12,alignItems:"center",mt:t?"30px":"",mb:t?"12px":"",children:[(0,r.jsx)(l.x,{mr:"5px",color:"#2775ff",children:e}),(0,r.jsx)(l.x,{color:"#9a9aaf",children:"to next rebase"})]})};t.default=function(){var e=(0,s.Z)().pathName,t=(0,o.If)().colorMode,n=(0,b.Z)().bp500px,a=(0,p.useMemo)((function(){switch(e){case"Bond":return(0,r.jsxs)(i.k,{flexDir:n?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:n?"66px":"",children:[(0,r.jsxs)(i.k,{children:[(0,r.jsx)(d(),{src:"light"===t?c.default:u.default,alt:"HOME_ICON"}),(0,r.jsx)(l.x,{ml:"3px",children:"Home"}),(0,r.jsx)(l.x,{mx:"7px",children:">"}),(0,r.jsx)(l.x,{children:"Bond"}),(0,r.jsx)(l.x,{mx:"7px",children:">"}),(0,r.jsx)(l.x,{color:"blue.200",children:"Bond List"})]}),n?(0,r.jsx)(k,{}):null,(0,r.jsx)(v,{})]});case"DAO":return null;case"Intro":return(0,r.jsxs)(i.k,{flexDir:n?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:n?"66px":"",children:[(0,r.jsx)(i.k,{}),(0,r.jsx)(v,{})]});default:return(0,r.jsxs)(i.k,{flexDir:n?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:n?"66px":"",children:[(0,r.jsxs)(i.k,{children:[(0,r.jsx)(d(),{src:u.default,alt:"HOME_ICON"}),(0,r.jsx)(l.x,{ml:"3px",children:"Home"}),(0,r.jsx)(l.x,{mx:"7px",children:">"}),(0,r.jsx)(l.x,{color:"blue.200",children:e})]}),n?(0,r.jsx)(k,{}):null,(0,r.jsx)(v,{})]})}}),[e,t,n]);return(0,r.jsxs)(i.k,{flexDir:"column",mb:n?"42px":"36px",w:"100%",children:[(0,r.jsxs)(i.k,{justifyContent:"space-between",children:[(0,r.jsx)(l.x,{fontSize:28,h:"39px",fontWeight:"bold",mb:"12px",color:"light"===t?"#07070c":"#ffffff",children:e}),!1===n&&"DAO"!==e&&(0,r.jsx)(k,{})]}),a]})}},17495:function(e,t,n){"use strict";n.r(t);var r=n(34051),o=n.n(r),i=n(85893),l=n(45161),s=n(93717),u=n(71293),c=n(48940),a=n(18618),x=n(35541),f=n(19778),d=n(14581),p=n(54346),m=n(4480),h=n(54968),j=n(37243),b=n(25675),v=n.n(b),k=n(79822),w=n(60483),y=n(67294),O=n(50482),S=n(46850),g=n(29619),T=n(68462),C=n(79042),_=n(43382),A=n(57683),I=n(2593);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,o,i,l){try{var s=e[i](l),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){L(i,r,o,l,s,"next",e)}function s(e){L(i,r,o,l,s,"throw",e)}l(void 0)}))}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(u){s=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e){var t=(0,l.If)().colorMode,n=e.title,r=e.content;return(0,i.jsx)(s.k,{children:(0,i.jsxs)(s.k,{w:"100%",justifyContent:"space-between",fontSize:14,children:[(0,i.jsx)(u.x,{color:"dark"===t?"gray.100":"gray.1000",children:n}),(0,i.jsx)(u.x,{color:"dark"===t?"white.200":"gray.800",fontWeight:600,children:r})]})})}t.default=function(){var e=(0,m.sJ)(h.ZC),t=((0,c.F)(),(0,l.If)().colorMode),n=(0,j.Z)(),r=n.closeModal,b=n.selectedModalData,D=(0,S.Z)().stakeV2,L=((0,g.Z)().userLTOSBalance,(0,T.Z)().StakingV2Proxy_CONTRACT),M=((0,_.Z)().simpleStakingId,(0,A.Z)().setTx),P=(0,y.useState)("-"),W=P[0],z=P[1],H=(0,y.useState)("-"),Y=H[0],R=H[1],U=E((0,a.a)("(max-width: 1024px)"),1)[0],G=[{title:"You Give",content:"".concat(W," LTOS")},{title:"You Will Get",content:"".concat(Y," TOS")}],B=(0,y.useCallback)((function(){r()}),[r]),F=(0,y.useCallback)(N(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=11;break}if(t=null===b||void 0===b?void 0:b.map((function(e){if(e)return e.stakedId})),!L){e.next=11;break}if(console.log("--unstake(uint256 _stakeId)--"),console.log(t),!t){e.next=11;break}return e.next=8,L.multiUnstake(t);case 8:return n=e.sent,M(n),e.abrupt("return",B());case 11:case"end":return e.stop()}}),e)}))),[L,B,M,b]);return(0,y.useEffect)((function(){function e(){return e=N(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null===b||void 0===b?void 0:b.map((function(e){if(e)return e.stakedId})),!L||!t){e.next=8;break}return e.next=4,Promise.all(null===t||void 0===t?void 0:t.map(function(){var e=N(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,L.remainedLtos(t);case 3:return n=e.sent,e.next=6,L.getLtosToTosPossibleIndex(n);case 6:return r=e.sent,e.abrupt("return",{ltosAmount:n,tosAmount:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:n=e.sent,r=n.reduce((function(e,t){return{ltosAmount:I.O$.from((null===e||void 0===e?void 0:e.ltosAmount)||"0").add(null===t||void 0===t?void 0:t.ltosAmount),tosAmount:I.O$.from((null===e||void 0===e?void 0:e.tosAmount)||"0").add(null===t||void 0===t?void 0:t.tosAmount)}}),void 0),z((0,C.WN)({amount:null===r||void 0===r?void 0:r.ltosAmount,localeString:!0})||"-"),R((0,C.WN)({amount:null===r||void 0===r?void 0:r.tosAmount,localeString:!0})||"-");case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){}))}),[L,b]),(0,i.jsxs)(x.u_,{isOpen:"stake_multiUnstake_modal"===e,isCentered:!0,onClose:B,children:[(0,i.jsx)(f.Z,{className:"modalOverlayDrawer",bg:"none"}),(0,i.jsx)(d.h,{bg:"light"===t?"white.100":"#121318",minW:U?"350px":"43.75em",children:(0,i.jsx)(p.f,{px:0,pt:"30px",pb:"40px",children:(0,i.jsxs)(s.k,{w:"100%",flexDir:"column",children:[(0,i.jsx)(s.k,{flexDir:"column",pos:"relative",children:(0,i.jsxs)(s.k,{w:"100%",justifyContent:"center",mb:"33px",children:[(0,i.jsx)(u.x,{color:"light"===t?"gray.800":"white.200",fontSize:20,fontWeight:600,children:"Unstake"}),(0,i.jsx)(s.k,{pos:"absolute",right:"1.56em",cursor:"pointer",onClick:function(){return B()},children:(0,i.jsx)(v(),{src:k.default,alt:"CLOSE_ICON"})})]})}),(0,i.jsxs)(s.k,{w:"100%",flexDir:"column",mb:"30px",children:[(0,i.jsx)(s.k,{w:"100%",flexDir:"column",px:U?"20px":"120px",children:(0,i.jsxs)(s.k,{w:"100%",justifyContent:U?"center":"space-between",mb:U?"15px":"9px",flexDir:U?"column":"row",children:[U?(0,i.jsx)(s.k,{mb:"9px",justifyContent:"center",w:"100%",children:(0,i.jsx)(O.default,{title:"Next Rebase",content:null===D||void 0===D?void 0:D.nextRebase,tooltip:"Time left until LTOS index is increased."})}):(0,i.jsx)(O.default,{title:"Next Rebase",content:null===D||void 0===D?void 0:D.nextRebase,tooltip:"Time left until LTOS index is increased."}),(0,i.jsx)(O.default,{title:"LTOS Index",content:null===D||void 0===D?void 0:D.ltosIndex,symbol:"TOS",tooltip:"Number of TOS you get when you unstake 1 LTOS. LTOS index increases every 8 hours."})]})}),(0,i.jsx)(s.k,{flexDir:"column",rowGap:"9px",px:U?"20px":"50px",children:G.map((function(e,t){return(0,i.jsx)(Z,{title:e.title,content:e.content},e.title+t)}))})]}),(0,i.jsx)(s.k,{flexDir:"column",alignItems:"center",rowGap:"15px",children:(0,i.jsx)(w.Z,{w:U?310:460,h:42,name:"Unstake",onClick:F})})]})})})]})}},93132:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(48940),i=n(45161),l=n(93717),s=n(14494),u=n(83492),c=n(39619),a=n(52498),x=n(96100),f=n(38091),d=n(77003),p=n(24369),m=n(17495),h=n(27520),j=n(13677);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=(0,o.F)(),t=(0,i.If)().colorMode,n=(0,h.Z)().bp500px;return(0,r.jsxs)(l.k,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}({},e.PAGE_LAYOUT_STYLE.layoutTheme(t),{bg:"light"===t?"#fafbfc":"black.100",mt:n?"42px":"66px",children:[(0,r.jsx)(s.default,{}),(0,r.jsx)(p.default,{msg:["Tip: LTOS can be unstaked for TOS. # of TOS you get is based on the LTOS index, where # of TOS = # of LTOS x LTOS index.","Every 8 hours LTOS index is increased and LTOS can be unstaked for more TOS."]}),(0,r.jsx)(d.default,{pageKey:"Stake_screen"}),(0,r.jsx)(u.default,{}),(0,r.jsx)(c.default,{}),(0,r.jsx)(a.default,{}),(0,r.jsx)(x.default,{}),(0,r.jsx)(f.default,{}),(0,r.jsx)(m.default,{}),(0,r.jsx)(j.default,{})]}))}}},function(e){e.O(0,[4885,2678,8658,8555,246,7277,9683,1351,3942,9002,8227,4824,9899,7003,6037,6100,8091,9619,2498,3492,3677,9774,2888,179],(function(){return t=54997,e(e.s=t);var t}));var t=e.O();_N_E=t}]);