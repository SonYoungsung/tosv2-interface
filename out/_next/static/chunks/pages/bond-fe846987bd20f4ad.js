(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2905],{2277:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bond",function(){return n(26597)}])},29365:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(4480),o=(0,r.cn)({key:"bond_filter_sort",default:"Earliest"});(0,r.nZ)({key:"bond_filter_sort_state",get:function(e){return(0,e.get)(o)}})},45379:function(e,t,n){"use strict";var r=n(88586),o=n(67294),c=n(5555);t.Z=function(e){var t=(0,o.useState)("-"),n=t[0],i=t[1],a=r.Z.rebase,s=a.epochLength,u=a.beginEpochEnd;return(0,o.useEffect)((function(){setInterval((function(){var t=(0,c.kv)(),n=s-(t-u)%s,r=(0,c.g9)(t-u>0?n:u-t,"HH:mm:ss"),o=r.hours,a=r.mins,l=r.secs,f=1===o.toString().length?"0".concat(r.hours):"".concat(r.hours),d=1===a.toString().length?"0".concat(r.mins):"".concat(r.mins),x=1===l.toString().length?"0".concat(r.secs):"".concat(r.secs);return(0,c.Ze)(),i(e?"".concat(f).concat(e).concat(d).concat(e).concat(x):"".concat(f,".").concat(d,".").concat(x))}),1e3)}),[]),n}},26597:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(48940),c=n(45161),i=n(93717),a=n(35865),s=n(82316),u=n(14494),l=n(12064),f=n(77003),d=n(27520);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=(0,o.F)(),t=(0,c.If)().colorMode,n=(0,d.Z)().bp500px;return(0,r.jsxs)(i.k,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},e.PAGE_LAYOUT_STYLE.layoutTheme(t),{bg:"light"===t?"#fafbfc":"black.100",mt:n?"42px":"66px",children:[(0,r.jsx)(u.default,{}),(0,r.jsx)(l.default,{}),(0,r.jsx)(f.default,{pageKey:"Bond_screen"}),(0,r.jsx)(a.default,{}),(0,r.jsx)(s.default,{})]}))}},35865:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(45161),c=n(93717),i=n(71293),a=n(67294),s=n(32157),u=n(77669);t.default=function(){var e=(0,a.useState)(0),t=e[0],n=(e[1],(0,o.If)().colorMode);return(0,r.jsxs)(c.k,{mt:"55px",w:"100%",justifyContent:"center",flexDir:"column",children:[(0,r.jsx)(i.x,{fontSize:22,fontWeight:"bold",color:"dark"===n?"white.200":"gray.800",mb:"34px",children:"Bond List"}),0===t?(0,r.jsx)(s.default,{}):(0,r.jsx)(u.default,{})]})}},12064:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(45161),c=n(93717),i=n(71293),a=n(67294),s=n(25675),u=n.n(s),l=n(79822);t.default=function(){(0,o.If)().colorMode;var e=(0,a.useState)(!0),t=e[0],n=e[1];return(0,r.jsxs)(c.k,{display:t?"Flex":"none",w:"100%",border:"1px solid #257eee",mb:"24px",borderRadius:"14px",px:"30px",justifyContent:"space-between",py:"20px",children:[(0,r.jsx)(i.x,{color:"blue.100",fontSize:"14px",w:"83%",children:"Tip: Bond is a cheaper way to get TOS (in the form of LTOS) compared to using Uniswap. If the lock-up period is at least 1 week, you can also get sTOS, the governance token for TONStarter."}),(0,r.jsx)(c.k,{mt:"-5px",height:"30px",w:"30px",_hover:{cursor:"pointer"},onClick:function(){return n(!1)},children:(0,r.jsx)(u(),{src:l.default,alt:"close"})})]})}},27353:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(45161),c=n(93717),i=n(71293),a=n(50830);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=e.title,n=e.content,a=e.style,u=(0,o.If)().colorMode;return(0,r.jsxs)(c.k,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({justifyContent:"space-between",fontSize:14,h:"20px"},a,{children:[(0,r.jsx)(i.x,{color:"dark"===u?"gray.100":"gray.1000",children:t}),(0,r.jsx)(i.x,{color:"dark"===u?"white.200":"gray.800",children:n})]}))}t.default=function(e){var t=e.info,n=e.tokenType,s=e.isOver,l=e.lockUpDate,f=(0,o.If)().colorMode;return(0,r.jsxs)(c.k,{flexDir:"column",w:"362px",h:"200px",borderWidth:1,borderColor:"dark"===f?"gray3600":"gray.900",borderRadius:10,bg:"dark"===f?"gray.600":"white.100",pt:"18px",px:"20px",pb:"21px",children:[(0,r.jsxs)(c.k,{mb:"18px",justifyContent:"space-between",children:[(0,r.jsxs)(c.k,{children:[(0,r.jsx)(a.Z,{tokenType:n}),(0,r.jsx)(i.x,{fontSize:20,fontWeight:600,textAlign:"center",lineHeight:"46px",color:"light"===f?"gray.800":"white.200",ml:"12px",children:n})]}),(0,r.jsx)(c.k,{fontSize:12,color:s?"blue.200":"red.100",textAlign:"center",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.x,{children:s?"Unlocked":"Locked"})})]}),null===t||void 0===t?void 0:t.map((function(e,n){return(0,r.jsx)(u,{title:e.title,content:e.content,style:{marginBottom:n!==t.length-1?"9px":"3px"}},e.title+n)})),(0,r.jsx)(c.k,{justifyContent:"flex-end",fontSize:9,mb:"21px",color:"#eaeaf4",children:(0,r.jsx)(i.x,{color:"dark"===f?"#eaeaf4":"#16161e",children:l})})]})}},1259:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(85893),o=n(5674),c=n(34051),i=n.n(c),a=n(79102),s=n(5555),u=n(76312),l=n(77044),f=n(29365),d=n(68806);function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(){var e=x(["\n  query GetBondList($period: String, $limit: Int) {\n    getBondList(period: $period, limit: $limit) {\n      index\n      capacity\n      quoteToken\n      totalSold\n      tokenLogo\n      bondPrice\n      endTime\n      createdAt\n    }\n  }\n"]);return p=function(){return e},e}function m(){var e=x(["\n  query GetBondHistory($period: String, $limit: Int, $account: String) {\n    getMyHistory(period: $period, limit: $limit, account: $account) {\n      contract\n      contractName\n      eventName\n      from\n      data\n      chainId\n      blockNumber\n      transactionHash\n      blockTimestamp\n      createdTime\n      updated\n    }\n  }\n"]);return m=function(){return e},e}(0,d.Ps)(p());var h=(0,d.Ps)(m()),j=n(66028),b=n(32082),v=n(68462),k=n(67294),g=n(4480);function y(e,t,n,r,o,c,i){try{var a=e[c](i),s=a.value}catch(u){return void n(u)}a.done?t(s):Promise.resolve(s).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function i(e){y(c,r,o,i,a,"next",e)}function a(e){y(c,r,o,i,a,"throw",e)}i(void 0)}))}}var O=function(){var e=(0,k.useState)(void 0),t=e[0],n=e[1],r=(0,l.Ge)().account,o=(0,v.Z)(),c=o.StakingV2Proxy_CONTRACT,d=o.LockTOS_CONTRACT,x=(0,b.Z)().epochUnit,p=(0,u.aM)(h,{variables:{account:r,period:"-1"},pollInterval:1e4}),m=p.data,y=(p.loading,p.error,(0,u.aM)(j.N,{variables:{tokenId:"ethereum"}}).data),O=(0,g.sJ)(f.x);return(0,k.useEffect)((function(){var e=function(){var e=w(i().mark((function e(){var t,o,u,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m&&r&&y)){e.next=8;break}return t=y.getTokenPrice,o=t.price,u=m.getMyHistory,l=u.map(function(){var e=w(i().mark((function e(t){var n,r,u,l,f,p,m,h,j,b,v,k,g,y,w,O,S,T;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.data&&t.blockTimestamp&&t.eventName&&c&&d)){e.next=19;break}return n=t.data,r=t.blockTimestamp,u=t.eventName,l=n.ltos,n.marketId,f=n.tosPrice,p=(0,a.WN)({amount:l.toString()}),m=null===n||void 0===n?void 0:n.stakeId,h=1/f*1e18*o,e.next=8,c.connectId(m);case 8:return j=e.sent,e.next=11,d.balanceOfLockAt(j,r);case 11:return b=e.sent,v="-",k=!1,g="5 Days",(y="StakedGetStosByBond"===u)?(w=(0,s.kv)(),O=w+(null===n||void 0===n?void 0:n.periodWeeks)*Number(x),v="".concat((0,s.df)(r,"YYYY. MM.DD. HH:mm"),"  ~ ").concat((0,s.df)(O,"MM.DD. HH:mm")),S=O-r,g="".concat(Math.floor(S/86400)," Days"),k=(0,s.vI)(Number(O))):(v="".concat((0,s.df)(r,"YYYY. MM.DD. HH:mm")," ~ ").concat((0,s.ab)(r,5,"MM.DD HH:mm")),k=(0,s.vI)(Number(r)+432e3)),T={info:[{title:"Staked",content:y?"".concat(p," LTOS / ").concat((0,a.WN)({amount:b.toString()}),"sTOS"):"".concat(p," LTOS")},{title:"Bond Price",content:"$ ".concat(h.toLocaleString(void 0,{maximumFractionDigits:2}))},{title:"Lock-Up Period",content:g}],tokenType:"ETH",lockUpDate:v,isOver:k},e.abrupt("return",T);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(l);case 6:f=e.sent,n(f);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){console.log("**fetchListdata err**"),console.log(e)}))}),[r,m,y,x,c,d,O]),{cardList:t}},S=n(27353);var T=function(){var e=O().cardList;return console.log(e),(0,r.jsx)(o.M,{columns:3,gridRowGap:"24px",columnGap:"25px",children:null===e||void 0===e?void 0:e.map((function(e,t){return(0,r.jsx)(S.default,{info:e.info,tokenType:e.tokenType,isOver:e.isOver,lockUpDate:e.lockUpDate},e.tokenType+t)}))})}},77669:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(93717),c=n(1259),i=n(77044),a=n(60483),s=n(56621);t.default=function(){var e=(0,i.Ge)(),t=e.account,n=(e.activate,(0,s.Z)().tryActivation);return t?(0,r.jsx)(o.k,{children:(0,r.jsx)(c.default,{})}):(0,r.jsx)(o.k,{flexDir:"column",alignItems:"center",children:(0,r.jsx)(a.Z,{name:"Connect Wallet",w:"240px",h:"42px",style:{fontSize:16},onClick:n})})}},14494:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(93717),c=n(43792);t.default=function(){return(0,r.jsx)(o.k,{children:(0,r.jsx)(c.default,{})})}},43792:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(45161),c=n(93717),i=n(71293),a=n(27224),s=n(20271),u=n(1885),l=n(43379),f=n(16658),d=n(25675),x=n.n(d),p=n(67294),m=n(5555),h=n(45379),j=n(83077),b=n(27520),v=function(){var e=(0,o.If)().colorMode,t=(0,p.useState)("-"),n=t[0],a=t[1],s=(0,j.O)().blockNumber;return(0,p.useEffect)((function(){var e=(0,m.df)((0,m.kv)(),"YYYY.MM.DD HH:mm");a(e)}),[s]),(0,r.jsxs)(c.k,{children:[(0,r.jsx)(x(),{src:"dark"===e?l.default:f.default,alt:"CALENDAR_ICON"}),(0,r.jsxs)(i.x,{color:"light"===e?"#7e7e8f":"#8b8b93",ml:"7px",children:["Updated on ",n," (",(0,m.Ze)(),")"]})]})},k=function(){(0,a.Z)().pathName;var e=(0,h.Z)(":"),t=(0,b.Z)().bp500px;return(0,r.jsxs)(c.k,{fontSize:12,alignItems:"center",mt:t?"30px":"",mb:t?"12px":"",children:[(0,r.jsx)(i.x,{mr:"5px",color:"#2775ff",children:e}),(0,r.jsx)(i.x,{color:"#9a9aaf",children:"to next rebase"})]})};t.default=function(){var e=(0,a.Z)().pathName,t=(0,o.If)().colorMode,n=(0,b.Z)().bp500px,l=(0,p.useMemo)((function(){switch(e){case"Bond":return(0,r.jsxs)(c.k,{flexDir:n?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:n?"66px":"",children:[(0,r.jsxs)(c.k,{children:[(0,r.jsx)(x(),{src:"light"===t?u.default:s.default,alt:"HOME_ICON"}),(0,r.jsx)(i.x,{ml:"3px",children:"Home"}),(0,r.jsx)(i.x,{mx:"7px",children:">"}),(0,r.jsx)(i.x,{children:"Bond"}),(0,r.jsx)(i.x,{mx:"7px",children:">"}),(0,r.jsx)(i.x,{color:"blue.200",children:"Bond List"})]}),n?(0,r.jsx)(k,{}):null,(0,r.jsx)(v,{})]});case"DAO":return null;case"Intro":return(0,r.jsxs)(c.k,{flexDir:n?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:n?"66px":"",children:[(0,r.jsx)(c.k,{}),(0,r.jsx)(v,{})]});default:return(0,r.jsxs)(c.k,{flexDir:n?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:n?"66px":"",children:[(0,r.jsxs)(c.k,{children:[(0,r.jsx)(x(),{src:s.default,alt:"HOME_ICON"}),(0,r.jsx)(i.x,{ml:"3px",children:"Home"}),(0,r.jsx)(i.x,{mx:"7px",children:">"}),(0,r.jsx)(i.x,{color:"blue.200",children:e})]}),n?(0,r.jsx)(k,{}):null,(0,r.jsx)(v,{})]})}}),[e,t,n]);return(0,r.jsxs)(c.k,{flexDir:"column",mb:n?"42px":"36px",w:"100%",children:[(0,r.jsxs)(c.k,{justifyContent:"space-between",children:[(0,r.jsx)(i.x,{fontSize:28,h:"39px",fontWeight:"bold",mb:"12px",color:"light"===t?"#07070c":"#ffffff",children:e}),!1===n&&"DAO"!==e&&(0,r.jsx)(k,{})]}),l]})}},5674:function(e,t,n){"use strict";n.d(t,{M:function(){return u}});var r=n(79078),o=n(16554),c=n(48940),i=n(7634),a=n(33951),s=n(85893),u=(0,o.G)((function(e,t){const{columns:n,spacingX:o,spacingY:u,spacing:l,minChildWidth:f,...d}=e,x=(0,c.F)(),p=f?function(e,t){return(0,a.XQ)(e,(e=>{const n=(0,i.LP)("sizes",e,"number"===typeof(r=e)?`${r}px`:r)(t);var r;return null===e?null:`repeat(auto-fit, minmax(${n}, 1fr))`}))}(f,x):(m=n,(0,a.XQ)(m,(e=>null===e?null:`repeat(${e}, minmax(0, 1fr))`)));var m;return(0,s.jsx)(r.r,{ref:t,gap:l,columnGap:o,rowGap:u,templateColumns:p,...d})}));u.displayName="SimpleGrid"}},function(e){e.O(0,[4885,2678,8658,8555,246,7277,9683,3942,7756,1129,2157,7003,2316,9774,2888,179],(function(){return t=2277,e(e.s=t);var t}));var t=e.O();_N_E=t}]);