(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8797],{54997:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake",function(){return t(93132)}])},24369:function(e,n,t){"use strict";t.r(n);var r=t(85893),o=t(45161),i=t(93717),l=t(71293),s=t(67294),u=t(25675),c=t.n(u),a=t(79822);n.default=function(e){var n=e.msg,t=((0,o.If)().colorMode,(0,s.useState)(!0)),u=t[0],x=t[1];return(0,r.jsxs)(i.k,{display:u?"Flex":"none",w:"100%",border:"1px solid #257eee",mb:"24px",borderRadius:"14px",px:"30px",justifyContent:"space-between",py:"20px",children:[(0,r.jsx)(i.k,{flexDir:"column",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,r.jsx)(l.x,{color:"blue.100",fontSize:"14px",children:e},e.length+n)}))}),(0,r.jsx)(i.k,{mt:"-5px",minH:"30px",maxH:"30px",minW:"30px",maxW:"30px",_hover:{cursor:"pointer"},onClick:function(){return x(!1)},children:(0,r.jsx)(c(),{src:a.default,alt:"close"})})]})}},14494:function(e,n,t){"use strict";t.r(n);var r=t(85893),o=t(93717),i=t(43792);n.default=function(){return(0,r.jsx)(o.k,{children:(0,r.jsx)(i.default,{})})}},43792:function(e,n,t){"use strict";t.r(n);var r=t(85893),o=t(45161),i=t(93717),l=t(71293),s=t(27224),u=t(20271),c=t(1885),a=t(43379),x=t(16658),f=t(25675),d=t.n(f),p=t(67294),m=t(5555),h=t(45379),j=t(83077),b=t(27520),v=function(){var e=(0,o.If)().colorMode,n=(0,p.useState)("-"),t=n[0],s=n[1],u=(0,j.O)().blockNumber;return(0,p.useEffect)((function(){var e=(0,m.df)((0,m.kv)(),"YYYY.MM.DD HH:mm");s(e)}),[u]),(0,r.jsxs)(i.k,{children:[(0,r.jsx)(d(),{src:"dark"===e?a.default:x.default,alt:"CALENDAR_ICON"}),(0,r.jsxs)(l.x,{color:"light"===e?"#7e7e8f":"#8b8b93",ml:"7px",children:["Updated on ",t," (",(0,m.Ze)(),")"]})]})},k=function(){(0,s.Z)().pathName;var e=(0,h.Z)(":"),n=(0,b.Z)().bp500px;return(0,r.jsxs)(i.k,{fontSize:12,alignItems:"center",mt:n?"30px":"",mb:n?"12px":"",children:[(0,r.jsx)(l.x,{mr:"5px",color:"#2775ff",children:e}),(0,r.jsx)(l.x,{color:"#9a9aaf",children:"to next rebase"})]})};n.default=function(){var e=(0,s.Z)().pathName,n=(0,o.If)().colorMode,t=(0,b.Z)().bp500px,a=(0,p.useMemo)((function(){switch(e){case"Bond":return(0,r.jsxs)(i.k,{flexDir:t?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:t?"66px":"",children:[(0,r.jsxs)(i.k,{children:[(0,r.jsx)(d(),{src:"light"===n?c.default:u.default,alt:"HOME_ICON"}),(0,r.jsx)(l.x,{ml:"3px",children:"Home"}),(0,r.jsx)(l.x,{mx:"7px",children:">"}),(0,r.jsx)(l.x,{children:"Bond"}),(0,r.jsx)(l.x,{mx:"7px",children:">"}),(0,r.jsx)(l.x,{color:"blue.200",children:"Bond List"})]}),t?(0,r.jsx)(k,{}):null,(0,r.jsx)(v,{})]});case"DAO":return null;case"Intro":return(0,r.jsxs)(i.k,{flexDir:t?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:t?"66px":"",children:[(0,r.jsx)(i.k,{}),(0,r.jsx)(v,{})]});default:return(0,r.jsxs)(i.k,{flexDir:t?"column":"row",fontSize:12,w:"100%",justifyContent:"space-between",h:t?"66px":"",children:[(0,r.jsxs)(i.k,{children:[(0,r.jsx)(d(),{src:u.default,alt:"HOME_ICON"}),(0,r.jsx)(l.x,{ml:"3px",children:"Home"}),(0,r.jsx)(l.x,{mx:"7px",children:">"}),(0,r.jsx)(l.x,{color:"blue.200",children:e})]}),t?(0,r.jsx)(k,{}):null,(0,r.jsx)(v,{})]})}}),[e,n,t]);return(0,r.jsxs)(i.k,{flexDir:"column",mb:t?"42px":"36px",w:"100%",children:[(0,r.jsxs)(i.k,{justifyContent:"space-between",children:[(0,r.jsx)(l.x,{fontSize:28,h:"39px",fontWeight:"bold",mb:"12px",color:"light"===n?"#07070c":"#ffffff",children:e}),!1===t&&"DAO"!==e&&(0,r.jsx)(k,{})]}),a]})}},17495:function(e,n,t){"use strict";t.r(n);var r=t(34051),o=t.n(r),i=t(85893),l=t(45161),s=t(93717),u=t(71293),c=t(48940),a=t(18618),x=t(35541),f=t(19778),d=t(14581),p=t(54346),m=t(4480),h=t(54968),j=t(37243),b=t(25675),v=t.n(b),k=t(79822),w=t(60483),y=t(67294),O=t(50482),S=t(46850),g=t(29619),T=t(68462),C=t(79102),_=t(43382),A=t(57683),I=t(2593);function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function L(e,n,t,r,o,i,l){try{var s=e[i](l),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,o)}function N(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function l(e){L(i,r,o,l,s,"next",e)}function s(e){L(i,r,o,l,s,"throw",e)}l(void 0)}))}}function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],l=!0,s=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);l=!0);}catch(u){s=!0,o=u}finally{try{l||null==t.return||t.return()}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return D(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e){var n=(0,l.If)().colorMode,t=e.title,r=e.content;return(0,i.jsx)(s.k,{children:(0,i.jsxs)(s.k,{w:"100%",justifyContent:"space-between",fontSize:14,children:[(0,i.jsx)(u.x,{color:"dark"===n?"gray.100":"gray.1000",children:t}),(0,i.jsx)(u.x,{color:"dark"===n?"white.200":"gray.800",fontWeight:600,children:r})]})})}n.default=function(){var e=(0,m.sJ)(h.ZC),n=((0,c.F)(),(0,l.If)().colorMode),t=(0,j.Z)(),r=t.closeModal,b=t.selectedModalData,D=(0,S.Z)().stakeV2,L=((0,g.Z)().userLTOSBalance,(0,T.Z)().StakingV2Proxy_CONTRACT),M=((0,_.Z)().simpleStakingId,(0,A.Z)().setTx),P=(0,y.useState)("-"),W=P[0],z=P[1],H=(0,y.useState)("-"),Y=H[0],R=H[1],U=E((0,a.a)("(max-width: 1024px)"),1)[0],G=[{title:"You Give",content:"".concat(W," LTOS")},{title:"You Will Get",content:"".concat(Y," TOS")}],B=(0,y.useCallback)((function(){r()}),[r]),F=(0,y.useCallback)(N(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=11;break}if(n=null===b||void 0===b?void 0:b.map((function(e){if(e)return e.stakedId})),!L){e.next=11;break}if(console.log("--unstake(uint256 _stakeId)--"),console.log(n),!n){e.next=11;break}return e.next=8,L.multiUnstake(n);case 8:return t=e.sent,M(t),e.abrupt("return",B());case 11:case"end":return e.stop()}}),e)}))),[L,B,M,b]);return(0,y.useEffect)((function(){function e(){return e=N(o().mark((function e(){var n,t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===b||void 0===b?void 0:b.map((function(e){if(e)return e.stakedId})),!L||!n){e.next=8;break}return e.next=4,Promise.all(null===n||void 0===n?void 0:n.map(function(){var e=N(o().mark((function e(n){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.next=3,L.remainedLtos(n);case 3:return t=e.sent,e.next=6,L.getLtosToTosPossibleIndex(t);case 6:return r=e.sent,e.abrupt("return",{ltosAmount:t,tosAmount:r});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:t=e.sent,r=t.reduce((function(e,n){return{ltosAmount:I.O$.from((null===e||void 0===e?void 0:e.ltosAmount)||"0").add(null===n||void 0===n?void 0:n.ltosAmount),tosAmount:I.O$.from((null===e||void 0===e?void 0:e.tosAmount)||"0").add(null===n||void 0===n?void 0:n.tosAmount)}}),void 0),z((0,C.WN)({amount:null===r||void 0===r?void 0:r.ltosAmount,localeString:!0})||"-"),R((0,C.WN)({amount:null===r||void 0===r?void 0:r.tosAmount,localeString:!0})||"-");case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){}))}),[L,b]),(0,i.jsxs)(x.u_,{isOpen:"stake_multiUnstake_modal"===e,isCentered:!0,onClose:B,children:[(0,i.jsx)(f.Z,{className:"modalOverlayDrawer",bg:"none"}),(0,i.jsx)(d.h,{bg:"light"===n?"white.100":"#121318",minW:U?"350px":"43.75em",children:(0,i.jsx)(p.f,{px:0,pt:"30px",pb:"40px",children:(0,i.jsxs)(s.k,{w:"100%",flexDir:"column",children:[(0,i.jsx)(s.k,{flexDir:"column",pos:"relative",children:(0,i.jsxs)(s.k,{w:"100%",justifyContent:"center",mb:"33px",children:[(0,i.jsx)(u.x,{color:"light"===n?"gray.800":"white.200",fontSize:20,fontWeight:600,children:"Unstake"}),(0,i.jsx)(s.k,{pos:"absolute",right:"1.56em",cursor:"pointer",onClick:function(){return B()},children:(0,i.jsx)(v(),{src:k.default,alt:"CLOSE_ICON"})})]})}),(0,i.jsxs)(s.k,{w:"100%",flexDir:"column",mb:"30px",children:[(0,i.jsx)(s.k,{w:"100%",flexDir:"column",px:U?"20px":"120px",children:(0,i.jsxs)(s.k,{w:"100%",justifyContent:U?"center":"space-between",mb:U?"15px":"9px",flexDir:U?"column":"row",children:[U?(0,i.jsx)(s.k,{mb:"9px",justifyContent:"center",w:"100%",children:(0,i.jsx)(O.default,{title:"Next Rebase",content:null===D||void 0===D?void 0:D.nextRebase,tooltip:"Time left until LTOS index is increased."})}):(0,i.jsx)(O.default,{title:"Next Rebase",content:null===D||void 0===D?void 0:D.nextRebase,tooltip:"Time left until LTOS index is increased."}),(0,i.jsx)(O.default,{title:"LTOS Index",content:null===D||void 0===D?void 0:D.ltosIndex,symbol:"TOS",tooltip:"Number of TOS you get when you unstake 1 LTOS. LTOS index increases every 8 hours."})]})}),(0,i.jsx)(s.k,{flexDir:"column",rowGap:"9px",px:U?"20px":"50px",children:G.map((function(e,n){return(0,i.jsx)(Z,{title:e.title,content:e.content},e.title+n)}))})]}),(0,i.jsx)(s.k,{flexDir:"column",alignItems:"center",rowGap:"15px",children:(0,i.jsx)(w.Z,{w:U?310:460,h:42,name:"Unstake",onClick:F})})]})})})]})}},93132:function(e,n,t){"use strict";t.r(n);var r=t(85893),o=t(48940),i=t(45161),l=t(93717),s=t(14494),u=t(83492),c=t(25004),a=t(52498),x=t(96100),f=t(38091),d=t(77003),p=t(24369),m=t(17495),h=t(27520);function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.default=function(){var e=(0,o.F)(),n=(0,i.If)().colorMode,t=(0,h.Z)().bp500px;return(0,r.jsxs)(l.k,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}({},e.PAGE_LAYOUT_STYLE.layoutTheme(n),{bg:"light"===n?"#fafbfc":"black.100",mt:t?"42px":"66px",children:[(0,r.jsx)(s.default,{}),(0,r.jsx)(p.default,{msg:["Tip: LTOS can be unstaked for TOS. # of TOS you get is based on the LTOS index, where # of TOS = # of LTOS x LTOS index.","Every 8 hours LTOS index is increased and LTOS can be unstaked for more TOS."]}),(0,r.jsx)(d.default,{pageKey:"Stake_screen"}),(0,r.jsx)(u.default,{}),(0,r.jsx)(c.default,{}),(0,r.jsx)(a.default,{}),(0,r.jsx)(x.default,{}),(0,r.jsx)(f.default,{}),(0,r.jsx)(m.default,{})]}))}}},function(e){e.O(0,[4885,2678,8658,8555,246,7277,9683,1351,3942,7756,1481,9899,4824,6037,7003,8091,6100,5004,2498,3492,9774,2888,179],(function(){return n=54997,e(e.s=n);var n}));var n=e.O();_N_E=n}]);