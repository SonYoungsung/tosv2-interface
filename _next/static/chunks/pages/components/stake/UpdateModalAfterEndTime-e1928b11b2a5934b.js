(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7119],{49417:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/stake/UpdateModalAfterEndTime",function(){return n(38091)}])},27541:function(e,t,n){"use strict";var r=n(85893),o=n(48940),a=n(45161),l=n(93717),i=n(82140),s=n(33090),u=n(71293),c=n(32735),f=n(14225),d=n(60938),p=n(27520),x=n(67294);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}t.Z=function(e){e.placeHolder;var t=e.w,n=e.h,v=e.isDisabled,h=e.atomKey,m=e.isError,k=e.style,y=e.pageKey,S=e.recoilKey,j=e.maxValue,_=e.errorMsg,w=(e.rightUnit,e.minValue,e.leftDays),T=e.leftTime,O=e.isDisabledText,N=e.endTime,A=e.isManageModal,C=((0,o.F)(),(0,a.If)().colorMode),P=(0,x.useState)("Weeks"),M=P[0],E=P[1],Z=(0,x.useState)(!1),z=Z[0],W=Z[1],I=(0,x.useState)(!1),D=(I[0],I[1],(0,p.Z)().bp700px),V=(0,d.Z)(y,S),L=V.inputValue,K=V.value,R=V.setValue,B=(0,x.useMemo)((function(){return K&&h&&K[h]?K[h]<10?"27px":K[h]&&K[h]<100?"37px":"42px":"27px"}),[K,h]);return(0,r.jsxs)(l.k,g({flexDir:"column",pos:"relative"},k,{children:[(0,r.jsxs)(i.B,{children:[(0,r.jsx)(s.I,{isInvalid:m,isDisabled:v,w:t||270,h:n||45,ml:"auto",borderRadius:8,borderWidth:1,borderColor:"light"===C?"#e8edf2":"#313442",fontSize:14,color:!1===z?"#64646f":"light"===C?"gray.800":v?"#64646f":"#f1f1f1",_placeholder:{color:"#64646f"},_hover:{borderColor:"light"===C?"#c6cbd9":"#535353"},focusBorderColor:"none",_focus:m?{}:{outline:"none",color:"light"===C?"gray.800":"#f1f1f1",boxShadow:"",borderColor:"light"===C?"#9a9aaf":"#8a8a98"},outline:"none",errorBorderColor:v?"none":"#e23738",value:"".concat(v?O||"-":K[h]),onChange:function(e){if(!isNaN(e.target.value)&&!e.target.value.includes(".")&&!e.target.value.includes(" "))return 0===Number(e.target.value)&&(console.log("-1-"),E("Weeks"),W(!1)),Number(e.target.value)>1&&(console.log("-2-"),E("Weeks"),W(!0)),1===Number(e.target.value)&&(console.log("-3-"),E("Week"),W(!0)),R(g({},L,b({},h,e.target.value)))}}),(0,r.jsx)(l.k,{pos:"absolute",left:B,textAlign:"center",lineHeight:"39px",fontSize:14,children:(!1===v||!0===A)&&w&&T&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.x,{color:!1===z?"#64646f":"light"===C?"gray.800":v?"#64646f":"#f1f1f1",children:M}),(0,r.jsxs)(u.x,{fontSize:12,ml:"9px",mr:"3px",color:z?"dark"===C?"#8b8b93":"#7e7e8f":"",children:[w," ",1===Number(w)?"Day":"Days"," ",T]})]})}),(0,r.jsx)(c.x,{mr:"8px",display:"flex",alignItems:"center",children:(0,r.jsx)(f.z,{w:"30px",h:"20px",color:"dark"===C?"#64646f":"#7e7e8f",_hover:{color:"#2775ff"},bg:"none",fontSize:14,fontWeight:600,isDisabled:v,onClick:function(){L[h]!==j&&j&&R(g({},L,b({},h,j)))},children:"Max"})})]}),m&&!1===v&&(0,r.jsx)(l.k,{w:"100%",fontSize:12,color:"#e23738",pos:"absolute",mt:"40px",textAlign:"right",justifyContent:"center",children:(0,r.jsx)(u.x,{children:_})}),N&&(0,r.jsx)(l.k,{pos:"absolute",top:"48px",w:t||270,justifyContent:D?"flex-start":"center",children:(0,r.jsxs)(u.x,{children:["End Time : ",N]})})]}))}},31617:function(e,t,n){"use strict";var r=n(34051),o=n.n(r),a=n(45093),l=n(79102),i=n(2593),s=n(89406),u=n(68462),c=n(60938),f=n(37243),d=n(67294),p=n(74506);function x(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){x(a,r,o,l,i,"next",e)}function i(e){x(a,r,o,l,i,"throw",e)}l(void 0)}))}}t.Z=function(e){var t=(0,d.useState)("-"),n=t[0],r=t[1],x=(0,d.useState)("-"),g=x[0],v=x[1],h=(0,d.useState)(void 0),m=h[0],k=h[1],y=(0,d.useState)(void 0),S=y[0],j=y[1],_=(0,u.Z)(),w=_.StakingV2Proxy_CONTRACT,T=(_.LockTOS_CONTRACT,(0,s.Z)().stakeId),O=(0,c.Z)("Stake_screen","relock_modal").inputValue,N=(0,d.useState)(0),A=N[0],C=N[1],P=(0,p.Z)(A,O.stake_relockModal_period),M=P.stosReward,E=P.newEndTime,Z=(0,f.Z)(),z=Z.selectedModalData;return Z.selectedModal,(0,d.useEffect)((function(){function e(){return(e=b(o().mark((function e(){var t,n,r,a,i,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===z||void 0===z?void 0:z.ltosAmount)&&(null===O||void 0===O?void 0:O.stake_relockModal_ltos_balance)&&w)){e.next=15;break}return t=z.ltosAmount,n=Number(t.replaceAll(",",""))-Number(O.stake_relockModal_ltos_balance.replaceAll(",","")),r=(0,l.Az)(n.toString()),e.next=6,w.getLtosToTosPossibleIndex(r);case 6:return a=e.sent,i=(0,l.WN)({amount:a.toString(),localeString:!0,round:!1}),v(null!==i&&void 0!==i?i:"-"),s=(0,l.Az)(t.toString()),e.next=12,w.getLtosToTosPossibleIndex(s);case 12:u=e.sent,c=(0,l.WN)({amount:u.toString(),localeString:!0,round:!1}),k(Number(null===c||void 0===c?void 0:c.replaceAll(",","")));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null===z||void 0===z?void 0:z.ltosAmount,null===O||void 0===O?void 0:O.stake_relockModal_ltos_balance,w]),(0,d.useEffect)((function(){function t(){return(t=b(o().mark((function t(){var n,a,s,u,c,f,d,p,x,b;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(w&&T&&O)){t.next=28;break}if(e){t.next=10;break}return n=(0,l.Az)(String(O.stake_relockModal_ltos_balance).replaceAll(" ","")),t.next=5,w.getLtosToTosPossibleIndex(n);case 5:return a=t.sent,s=(0,l.WN)({amount:a.toString(),localeString:!0})||"-",r(s),C(Number(s.replaceAll(",",""))),t.abrupt("return");case 10:if(!e){t.next=28;break}return u=(0,l.Az)(O.stake_relockModal_tos_balance),t.next=14,w.getTosToLtosPossibleIndex(u);case 14:return c=t.sent,t.next=17,w.remainedLtos(T);case 17:return f=t.sent,d=i.O$.from(c).add(f),p=(0,l.WN)({amount:d.toString(),localeString:!0,round:!1})||"-",t.next=22,w.getLtosToTosPossibleIndex(d);case 22:return x=t.sent,b=(0,l.WN)({amount:x.toString(),localeString:!0,round:!1})||"-",r(b),C(Number(O.stake_relockModal_tos_balance.replaceAll(",",""))),j(p),t.abrupt("return");case 28:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().catch((function(e){}))}),[T,w,O,M,e]),{newEndTime:E,inputTosAmount:(0,a.Z)(A),tosValue:n,tosBalance:g,allLtosToTosBalance:m,allLtosBalance:S}}},43382:function(e,t,n){"use strict";var r=n(34051),o=n.n(r),a=n(79102),l=n(77044),i=n(67294),s=n(28450),u=n(83077),c=n(68462);function f(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){f(a,r,o,l,i,"next",e)}function i(e){f(a,r,o,l,i,"throw",e)}l(void 0)}))}}t.Z=function(){var e=(0,i.useState)({tosAllowance:void 0,stakeList:void 0,simpleStakingId:void 0}),t=e[0],n=e[1],r=(0,c.Z)().TOS_CONTRACT,f=(0,l.Ge)().account,p=s.Z.StakingV2Proxy,x=(0,u.O)().blockNumber,b=(0,c.Z)().StakingV2Proxy_CONTRACT;return(0,i.useEffect)((function(){function e(){return(e=d(o().mark((function e(){var t,l,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r&&f&&b)){e.next=9;break}return e.next=4,r.allowance(f,p);case 4:return l=e.sent,e.next=7,b.stakingOf(f);case 7:return i=e.sent,e.abrupt("return",n({tosAllowance:Number((0,a.WN)({amount:l.toString()})),stakeList:i,simpleStakingId:null===(t=i[1])||void 0===t?void 0:t.toString()}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){void 0!==e&&(console.log("**fetchUseUser err**"),console.log(e))}))}),[r,f,p,x,b]),t}},60316:function(e,t,n){"use strict";n.r(t);var r=n(85893),o=n(45161),a=n(93717),l=n(85129),i=n(38658),s=n(88586),u=n(60938),c=n(67294);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}t.default=function(e){var t=e.pageKey,n=e.subKey,p=e.periodKey,x=e.balanceKey,b=e.isSlideDisabled,g=e.minValue,v={mt:"2",ml:"-2.5",fontSize:"sm"},h=(0,u.Z)(t,n),m=h.inputValue,k=(h.value,h.setValue),y=(0,c.useState)(0),S=y[0],j=y[1],_=(0,c.useState)(!1),w=_[0],T=(_[1],(0,o.If)().colorMode),O=(0,c.useState)(!1),N=O[0],A=O[1];return(0,c.useEffect)((function(){0!==S&&A(!0)}),[S]),(0,c.useEffect)((function(){var e;if(x&&N&&(""===m[x]||void 0===m[x]))return k(d({},m,(f(e={},x,0),f(e,p,S),e)));return k(d({},m,f({},p,S)))}),[S,p,x,N]),(0,c.useEffect)((function(){if(m[p])return j(Number(m[p]))}),[m,p]),(0,c.useEffect)((function(){return j(b?0:s.Z.modalMaxWeeks)}),[b]),(0,r.jsx)(a.k,{w:"100%",h:"70px",pos:"relative",children:(0,r.jsxs)(l.iR,{focusThumbOnChange:!1,"aria-label":"slider-ex-1",defaultValue:0,min:0,max:s.Z.modalMaxWeeks,value:S,onChange:function(e){return j(g&&g>e?g:e)},h:"10px",alignSelf:"end",isDisabled:b,children:[(0,r.jsx)(l.jz,d({value:0},v,{children:"7d"})),(0,r.jsx)(l.jz,d({value:52},v,{children:"1y"})),(0,r.jsx)(l.jz,d({value:104},v,{children:"2y"})),(0,r.jsx)(l.jz,d({value:155},v,{children:"3y"})),(0,r.jsxs)(l.Uj,{bg:"light"===T?"#e7edf3":"#353d48",children:[(0,r.jsx)(l.Ms,{bg:"#2775ff"}),g&&(0,r.jsx)(l.Ms,{maxW:"".concat(g/155*100,"%"),bg:"#2bb415"})]}),(0,r.jsx)(i.u,{color:"light"===T?"#07070c":"#f1f1f1",placement:"top",bg:"transparent",w:"50px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"15px",fontWeight:600,isOpen:w,label:"".concat(S," sTOS"),children:(0,r.jsx)(l.gs,{})})]})})}}},function(e){e.O(0,[4885,2678,8658,246,7277,9683,3942,7756,8091,9774,2888,179],(function(){return t=49417,e(e.s=t);var t}));var t=e.O();_N_E=t}]);